function _0x2908(e,t){const a=_0x1a98();return(_0x2908=function(e,t){return e-=264,a[e]})(e,t)}const _0x1b96af=_0x2908;!function(){for(var e=_0x2908,t=_0x1a98();;)try{if(718853==-parseInt(e(287))*(-parseInt(e(587))/2)+parseInt(e(616))/3+-parseInt(e(458))/4*(-parseInt(e(481))/5)+-parseInt(e(629))/6+-parseInt(e(305))/7+parseInt(e(559))/8+-parseInt(e(292))/9)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();import{SyyRequest}from"../index.js";import _0x242e52 from"cuid";import{Polling}from"../utils/polling.js";import _0x23ab01 from"ws";import{Response,SendAppMessageResponse,ChatRoomMember,Contact,Message,Label}from"../../map/index.js";import{CacheManager}from"../../cache-manager.js";import{jsonToXml,xmlToJson}from"../../utils/xml-to-json.js";function _0x1a98(){const e=["044b304902","get","setUsernam",".com/mp/wa","vpgYJ","2126fde509","_client","FefGH","wxid_yqw0i","kSqpw","YgNcl","proxy","0270823229","2d30666231","01000204cf","url","getLabelLi","host:8848/","setGender","ype=3#wech","oKPht","labelID","atuserlist","/group/Sca","/label/Add","act","ogin","/group/Get","sendContac","nIntoUrlGr","KLDzN","/user/Upda","token","display_na","QCEOL","PAmMA","state","mMerbers?k","tContactDe","loginErrMs","onSync","OjpV/n9TRf","0424373766","/Tools/Upl","addLabel","mzGna","setMsgcont","ckLoginSta","OPvmK","setMsgid","b249920203","jmZAq","wMessage?k","send","/login/Log","deByFirst","padStart","ptUnA","from_user_","d68d867756","/Tools/Cdn","p;upgradet","ifyLabel?k","2283821063","4020405140","/Tools/Dow","Voice","chatroom_m","mmaxcount","pEFNW","deleteChat","clientmsgi","setCreatet","jpg","test","inviteChat","small_head","drGGh","2d62633232","wxid","yYnWq","load?key=","a5c0085ef9","nouncement","Video","push","mmemberLis","rofile?key","bmotO","length","getMonth","GetLoginSt","onQrCodeEv","tFriendRel","MoEUA","LoginStatu","setFromuse","ation?key=","1116716mghZie","buffer","message","ame","dbb0e647bd","nloadFile?","76f997e791","fubHh","ax_count","createChat","edsvb","iteChatroo","deNew","sendImageM","0100040500","0466a8b32c","msg_id","GbsFkl8KMI","setAtList","ssage?key=","mgUrl","yQrCode?ke","wgZMi","10mhFwFH","hatRoomInf","aAqZz","Status","4c505700","jyPxmdi+Gj","mInfoDetai","ist","GlOcf","184","kkVzZ","NrXRs","setInviter","getChatCon","10300","setId","d1f21482a9","wXJyF","0514000502","sendVoiceM","ChatroomQr","acceptChat","time","sendMessag","tRoomMembe","r?key=","tCardMessa","cdnthumbur","setTousern","HlVHI","/label/Get","at_redirec","eLink","callback","Event","_img_url","etMsgVideo","sex","getLoginCo","rrcmoyd12_","QrCodeUrl","login","stop","tqRrf","/friend/Ge","endAppMess","getUsernam","string","ggFOpF8kP4","endTextMes","/friend/Ve","content","username","79izHT2VeB","mMembers","UYDj/Zspdy","mticket","chatroom_n","GPuzYCdPvw","1|4|0|2|3","voicemsg","3057020100","errpage?ap","member_dat","logout","dDelDelCha","eMiniProgr","Label","xVMjJr8zu/","/group/Set","getContact","Uxghl","45df3d1bd8","passname","acceptUser","remark","jVuEJ","mberDetail","9182280YGefBt","thumbURL","userInfoEx","emit","e attempts","BzAPB","/group/Sen","setEncrypt","nmg7opHS3F","data:image","20100044b3","405004c505","x5b2kETRF9","iZkPF","txt","@cdn_30570","updateSelf","setChatroo","cAEfl","quitChatRo","106112608","Room","ChatroomMe","ZTgfkeB","searchPara","nJvZNQCfoF","7363061356","videomsg","78jBuyct","3239663363","82a9c9eea8","ember_list","TaTfq","Attach","selfContac","appmsg","l?key=","icket","AntispamTi","RdCav","getMessage","ime","/user/SetS","ClLTDHZQ6R","NBTCN","0518080302","978020466a","getMyConta","ContactLab","aMNhj","ent","Data","setNicknam","EIr056iMnf","atus","setSignatu","getHours","4290297yypEEc","3637640204","cket","sendFileMe","chatRoomOw","4dfcfca645","join","6336336376","sage?key=","0490201000","mowneruser","setType","msg","4750548MJtpAX","filter","upCMO","/message/S","endEmojiMe","init","appattach","GetChatRoo","HeartBeat ","o8SkgbwX5o","6266616431","chatRoomNa","8177193250","gDSGw","elation","endCdnDown","AttachThum","Code","LoginQrCod",".weixin.qq","/user/GetP","getSecondL","me?key=","setMessage","cHxqU","ick_name","wx_message","VwNZL","ws://local","setAntispa","mContact","userName","getAlias","100","labelName","nick_name","msg_type","ISvqpWoFoE","create_tim","getFullYea","img","ner","2d38373533","user_name","2d34633965","endVoice?k","plus_","signature","str","xIfxf","46cd881fa9","ws/GetSync","getChatRoo",".txt","s?key=","2d34303430","setAvatar","view","PjktZ","pid=","0050201000","forwardMes","pWPHD","cess","checkLogin","zESRN","lContact?k","elList?key","msg_source","to_user_na","7009346818","embers","3d22d51b80","hareCardMe","getDate","oup?key=","failed aft","split","data","wxid_kxbss","getTime","2764_17223","sZaTf","TszUe","m?key=","revokeinfo","tPhJe","essage","addContact","iqXra","661e8de943","/message/R","puppet_pad","sRQox","er_name","post","/message/G","setName","contactLis","setContent","/group/Qui","/group/Inv","DownloadIm","8b32c04243","BikhO","QjoXW","bURmKeTyO6","revokeMess","2f591b0204","tailsList?","rname","kickout","sendVideoM","ChatroomNa","P+4382v9Q7","setRoom","qr_arr","_cacheMgr","mAnnouncem","inviter_us","700_4dfcfc","age?key=","appid","QRCode","upgrade&am","bTXho","labelPairL","FwVVL","105138159","djmEV","sagewenjia","8yjkqx122","2f58b70204","send_text","antispam_t","nickName","fyRemark?k","22821oqwLTe","dkCus","TLxxP","setRemark","ete?key=","11822139ngRkxc","/login/Get","0|1|4|3|2","ignature?k","name","/user/Modi","Signature","close","?key=","ateChatRoo","ueygE","Image","mThumb","8414553YtIuar","setChatRoo","9da1c45bee","yJwMR","435372d346","removeLabe","poll","includes","endImageNe","getAllChat","chatrooms","juzJq","endVideo?k","oIAdx","https://mp","QtPDM","open","RoomMember","owner_user","tion","onLoginSuc","31948","tChatroom?","teNickName","6135646335","iVRob","ssage","eNew?key=","encryptUse","yiYyu","Out?key=","3539320204","数据出错","key=","新建文本文档 (2)","ping","/group/Cre","65264","uuid","poll_heart","账号在线状态良好！","463352d636","EwUSB","undefined","totallen","userInfo","smallHeadI","kxRkG","effective_","utf-8","port","msgsource","oaEYI","ey=","aeskey"];return(_0x1a98=function(){return e})()}class Api{[_0x1b96af(267)];[_0x1b96af(366)];[_0x1b96af(392)];[_0x1b96af(371)];[_0x1b96af(343)];[_0x1b96af(439)];[_0x1b96af(514)];[_0x1b96af(266)];["poll_message_timer"];constructor(e){var t=_0x1b96af;this._client=e,this[t(266)]=[]}async["init"](){var e=_0x1b96af;this[e(267)]=new CacheManager(this[e(392)]),await this[e(267)].init()}async[_0x1b96af(522)](e,t){var a=_0x1b96af,n={QhYbN:function(e,t){return e==t},PmSSl:a(345)},t=(this[a(514)]=t,this[a(366)][a(392)][a(706)](a(721)+a(675))[1]);this.token=t,await this[a(634)]();try{var s=await this[a(451)+a(613)]();n.QhYbN(s.Data[a(399)+"g"],n.PmSSl)&&this[a(650)+a(386)]()}catch(e){this[a(519)+"deByFirst"]()}}async[_0x1b96af(519)+_0x1b96af(470)](){var e=_0x1b96af;return this[e(371)]&&(this[e(371)][e(533)],this[e(371)][e(554)],this[e(371)].ip,this[e(371)][e(355)]),SyyRequest[e(724)]({url:e(293)+e(647)+e(332)+this[e(392)],data:{Proxy:Proxy}})}async[_0x1b96af(693)+_0x1b96af(484)](){var e=_0x1b96af;return SyyRequest.get({url:"/login/Che"+e(407)+"tus?key="+this[e(392)],data:{}})}async["GetLoginSt"+_0x1b96af(613)](e=5){var t=_0x1b96af,a={TszUe:function(e,t){return e==t},enugi:t(345),drGGh:t(637)+t(705)+"er multipl"+t(563)};let n=0;for(;n<e;){try{var s=await SyyRequest[t(361)]({url:"/login/Get"+t(455)+t(683)+this[t(392)],data:{}});if(a[t(712)](s[t(610)]?.[t(399)+"g"],a.enugi))return s}catch(e){}n++}throw new Error(a[t(437)])}[_0x1b96af(519)+"deByFirst"]=async()=>{const s=_0x1b96af,r={xIfxf:function(e,t){return e!=t},ueygE:s(348),OhvnJ:function(e,t){return t<e},Uxghl:function(e,t,a){return e(t,a)},tPhJe:function(e,t){return e*t},iZkPF:function(e,t){return e==t},dkCus:function(e,t){return e==t},upCMO:function(e,t){return e==t},yYnWq:function(e,t){return e==t}};let i=this.callback,e=await this["getLoginCo"+s(470)]();if(r[s(440)](e.Code,200)){var t=new URL(e[s(610)][s(521)])[s(583)+"ms"][s(361)](s(375));this.qr_arr[s(312)](t)||(i["onOneClick"+s(515)]({status:1,imageUrl:t}),this[s(266)][s(445)](t));const o=new Polling;let n=null;o.poll(3e3,async()=>{const t=s;var e=await this[t(693)+t(484)]();if(!n&&r[t(678)](e.Data?.["effective_"+t(503)],r[t(302)])&&r.OhvnJ(e[t(610)]?.[t(353)+"time"],230)&&(n=r[t(552)](setTimeout,async()=>{var e=t;o.stop(),i["onQrCodeEv"+e(609)]({status:5}),await this[e(519)+e(415)]()},r[t(715)](e[t(610)]["effective_"+t(503)],1e3))),200==e[t(646)]){if(r[t(572)](e.Data[t(396)],1)&&i.onQrCodeEvent({status:2}),r[t(572)](e[t(610)][t(396)],4)&&i[t(452)+"ent"]({status:4}),r[t(288)](e[t(610)].state,2)){o[t(523)](),n&&(clearTimeout(n),n=null),i[t(452)+"ent"]({status:3}),this[t(439)]=e[t(610)][t(439)];try{var a=t(540)[t(706)]("|");let e=0;for(;;){switch(a[e++]){case"0":await i[t(325)+t(692)](this[t(366)][t(593)+"t"]);continue;case"1":this[t(655)]();continue;case"2":await i[t(400)]({getContactList(){return[]},getMessageList(){return[]}});continue;case"3":this[t(344)]();continue;case"4":this[t(366)][t(593)+"t"]=await this[t(606)+"ct"]();continue}break}}catch(e){}}}else r[t(631)](e[t(646)],-8)})}};async[_0x1b96af(650)+_0x1b96af(386)](){var t=_0x1b96af;try{var a=t(294)[t(706)]("|");let e=0;for(;;){switch(a[e++]){case"0":this[t(655)]();continue;case"1":this[t(366)][t(593)+"t"]=await this[t(606)+"ct"]();continue;case"2":this.poll_heart();continue;case"3":await this[t(514)][t(400)]({getContactList(){return[]},getMessageList(){return[]}});continue;case"4":await this.callback[t(325)+t(692)](this[t(366)][t(593)+"t"]);continue}break}}catch(e){await this[t(519)+t(415)]()}}async[_0x1b96af(655)](){const c=_0x1b96af,u={dGILw:c(340),YgNcl:c(354),oIAdx:function(e,t){return e(t)},ptUnA:"message",fubHh:function(e,t){return e+t},wZhac:function(e,t){return e(t)},PAmMA:function(e,t){return e(t)},wgZMi:function(e,t,a){return e(t,a)},RdCav:c(299)},e=c(657)+c(377)+c(680)+"Msg?key="+this[c(392)],t=new _0x23ab01(e);t.on(c(321),()=>{var e=c;t[e(413)](JSON.stringify({type:u.dGILw,timestamp:Date.now()}))}),t.on(c(460),async e=>{var t=c,e=e.toString(u[t(370)]);try{var a=JSON.parse(e);if(a){var n,s=a,r=(new Message)[t(456)+t(739)](s["from_user_"+t(296)].str)[t(509)+t(461)](s[t(698)+"me"].str)[t(496)](s[t(474)])[t(627)](s[t(665)])[t(432)+t(600)](s[t(667)+"e"]),i=/@chatroom$/[t(434)](s[t(418)+"name"].str),o=/@chatroom$/.test(s[t(698)+"me"].str);let e=[];(i||o)&&(this._cacheMgr?.[t(265)](s["from_user_"+t(296)][t(677)]||s.to_user_name[t(677)],!0),n=(await u.oIAdx(xmlToJson,s[t(697)])).msgsource?.[t(382)]?(await xmlToJson(s[t(697)]))[t(356)][t(382)].split(","):[],e=n[t(630)](e=>""!==e)),r[t(728)](s[t(532)][t(677)])[t(476)](e),this[t(366)][t(562)](u[t(417)],[r])}}catch(e){}}),t.on(u[c(598)],()=>{var e=c,t=new Date;t[e(668)+"r"](),u[e(318)](String,u[e(465)](t[e(450)](),1))[e(416)](2,"0"),u.wZhac(String,t[e(703)]()).padStart(2,"0"),u[e(395)](String,t[e(615)]())[e(416)](2,"0"),u[e(395)](String,t.getMinutes())[e(416)](2,"0"),u[e(318)](String,t.getSeconds())[e(416)](2,"0");u[e(480)](setTimeout,this[e(655)],0)}),t.on("error",e=>{})}[_0x1b96af(344)](){const e=_0x1b96af,a={aAqZz:e(740),bmotO:function(e,t){return e*t}},t=new Polling;t[e(311)](a[e(448)](a[e(448)](2.5,60),1e3),async()=>{var t=e;try{await this[t(451)+"atus"]()}catch(e){await this[t(267)]?.close(),this[t(267)]=void 0,this[t(366)][t(562)](a[t(483)],"")}})}async[_0x1b96af(283)](e,t,a){var n=_0x1b96af,s={djmEV:function(e){return e()},paOJy:function(e){return e()},yJwMR:function(e){return e()}};await SyyRequest[n(724)]({url:"/message/S"+n(530)+n(624)+this.token,data:{MsgItem:[{AtWxIDList:a,ImageContent:"",MsgType:0,TextContent:t,ToUserName:e}]}});return(new Response)[n(409)](s[n(279)](_0x242e52))["setMessage"+n(714)]({clientmsgid:s.paOJy(_0x242e52),newclientmsgid:s[n(308)](_0x242e52),createtime:(new Date).getTime()})}async[_0x1b96af(471)+_0x1b96af(716)](e,t,a){var n=_0x1b96af,s={cHxqU:function(e){return e()},fQkkx:function(e){return e()}};await SyyRequest.post({url:n(632)+n(313)+n(412)+"ey="+this.token,data:{MsgItem:[{AtWxIDList:a,ImageContent:t,MsgType:2,TextContent:"",ToUserName:e}]}});return(new Response)[n(409)](s[n(653)](_0x242e52))[n(652)+n(714)]({clientmsgid:_0x242e52(),newclientmsgid:s.fQkkx(_0x242e52),createtime:(new Date)[n(709)]()})}async[_0x1b96af(741)+_0x1b96af(716)](e,t,a){var n=_0x1b96af;await SyyRequest[n(724)]({url:n(632)+n(317)+n(358)+this[n(392)],data:{Base64:t,ImageBase64:n(568)+"/png;base64,"+a,PlayLength:0,ToWxid:e,Wxid:this[n(439)]}});return(new Response)[n(409)]({iqXra:function(e){return e()}}[n(718)](_0x242e52))[n(652)+n(714)]({clientmsgid:_0x242e52(),newclientmsgid:_0x242e52(),createtime:(new Date).getTime()})}async[_0x1b96af(619)+_0x1b96af(331)](e){var t=_0x1b96af,a={BikhO:function(e){return e()},cAEfl:function(e){return e()}};await SyyRequest[t(724)]({url:t(403)+"oadFile?key="+this[t(392)],data:{Base64:e,Wxid:this[t(439)]}});return(new Response)[t(409)](_0x242e52())[t(652)+t(714)]({clientmsgid:a[t(733)](_0x242e52),newclientmsgid:a[t(577)](_0x242e52),createtime:(new Date)[t(709)]()})}async[_0x1b96af(504)+"eEmoji"](e,t,a){var n=_0x1b96af,s={PKurF:function(e){return e()},edsvb:function(e){return e()}};await SyyRequest.post({url:n(632)+n(633)+n(477)+this[n(392)],data:{EmojiList:[{EmojiMd5:t,EmojiSize:a,ToUserName:e}]}});return(new Response)[n(409)](_0x242e52())["setMessage"+n(714)]({clientmsgid:s.PKurF(_0x242e52),newclientmsgid:s[n(468)](_0x242e52),createtime:(new Date).getTime()})}async[_0x1b96af(504)+_0x1b96af(513)](e,t,a){var n=_0x1b96af,s={HlVHI:n(542)+"044b304902"+n(374)+n(410)+n(282)+"7366327002046690b731"+n(402)+"32396432322d386664622d34633235"+n(671)+n(373)+n(639)+n(336)+n(604)+n(472)+"4c4d3700",lmfcX:n(719)+n(423)+n(365)+"4b",TRzth:n(495),CjhTv:n(662),wQvvm:"msg_825269"+n(372)+"747",TaTfq:n(579),MjbYd:function(e,t){return e(t)},yiYyu:function(e){return e()},jmZAq:function(e){return e()}},a={appmsg:{$:{appid:"",sdkver:"0"},title:a.title,des:a.description,action:n(686),type:"5",showtype:"0",content:"",url:a[n(375)],dataurl:"",lowurl:"",lowdataurl:"",recorditem:"",thumburl:a[n(560)],messageaction:"",laninfo:"",extinfo:"",sourceusername:"",sourcedisplayname:"",commenturl:"",appattach:{totallen:"0",attachid:"",emoticonmd5:"",fileext:"",aeskey:"",cdnthumburl:s[n(510)],cdnthumbaeskey:"801f4f18eb05147db6b1"+n(442)+"45",cdnthumbmd5:s.lmfcX,cdnthumblength:s.TRzth,cdnthumbwidth:s.CjhTv,cdnthumbheight:"100"},webviewshared:{publisherId:s.wQvvm,publisherReqId:s[n(591)]},weappinfo:{pagepath:"",username:"",appid:"",appservicetype:"0"},websearch:""}},r=await s.MjbYd(jsonToXml,a),a=await jsonToXml({msg:a});await SyyRequest[n(724)]({url:n(632)+n(526)+n(271)+this[n(392)],data:{AppList:[{ContentType:0,ContentXML:r,ToUserName:t}]}});return(new SendAppMessageResponse)[n(409)](s[n(334)](_0x242e52))[n(652)+n(714)]({clientmsgid:s.yiYyu(_0x242e52),newclientmsgid:s[n(411)](_0x242e52),createtime:(new Date)[n(709)]()})["setMsgcont"+n(609)](a)}async["sendMessag"+_0x1b96af(547)+"am"](e,t){var a=_0x1b96af,n={RfhIG:a(686),FefGH:"45aa6d4173"+a(641)+a(679)+"2d",gDSGw:a(662),NrXRs:function(e,t){return e(t)},oaEYI:function(e){return e()},pEFNW:function(e){return e()}},{appid:t,description:s,iconUrl:r,shareId:i,thumbKey:o,thumbUrl:c,username:u,title:m,pagePath:f}=t,m={appmsg:{appid:t,title:m,action:n.RfhIG,type:"33",showtype:"0",url:a(319)+a(648)+a(363)+a(543)+a(688)+t+("&amp;type="+a(274)+a(421)+a(379)+a(512))+"t",md5:n[a(367)],sourcedisplayname:s,appattach:{totallen:"0",fileext:a(433),filekey:a(462)+a(553)+a(701)+"73",cdnthumburl:c,aeskey:"5efa5257be70f5fd6346"+a(464)+"29",cdnthumbaeskey:o,cdnthumbmd5:n.FefGH,encryver:"1",cdnthumblength:a(342),cdnthumbheight:n[a(642)],cdnthumbwidth:n[a(642)]},webviewshared:{publisherReqId:"0"},weappinfo:{pagepath:f,username:u,appid:t,type:"2",weappiconurl:r,appservicetype:"0",shareId:i}}},s=await n[a(492)](jsonToXml,m),c=await n.NrXRs(jsonToXml,{msg:m});await SyyRequest.post({url:a(632)+a(526)+a(271)+this[a(392)],data:{AppList:[{ContentType:0,ContentXML:s,ToUserName:e}]}});return(new SendAppMessageResponse)[a(409)](n[a(357)](_0x242e52))["setMessage"+a(714)]({clientmsgid:n[a(357)](_0x242e52),newclientmsgid:n[a(429)](_0x242e52),createtime:(new Date)[a(709)]()})[a(406)+"ent"](c)}async[_0x1b96af(690)+"sage"](e,t){var a=_0x1b96af,n={vpgYJ:function(e,t){return e(t)},sZaTf:function(e){return e()}},s=await n[a(364)](xmlToJson,t),s=await n[a(364)](jsonToXml,{appmsg:s[a(628)][a(594)]});await SyyRequest.post({url:a(632)+a(526)+"age?key="+this[a(392)],data:{AppList:[{ContentType:0,ContentXML:s,ToUserName:e}]}});return(new SendAppMessageResponse).setMsgid(n[a(711)](_0x242e52)).setMessagerevokeinfo({clientmsgid:n[a(711)](_0x242e52),newclientmsgid:n[a(711)](_0x242e52),createtime:(new Date).getTime()})[a(406)+a(609)](t)}async[_0x1b96af(690)+_0x1b96af(280)+"n"](e,t){var a=_0x1b96af,n={KLDzN:function(e,t){return e(t)},sRQox:"184 B",SGXKM:a(686),BzAPB:a(490),zESRN:a(573),mzGna:a(574)+a(569)+a(625)+"204cfb2499202032f591b02041424e"+a(605)+a(732)+a(585)+a(346)+a(309)+"339652d626332322d3430343032396"+a(623)+a(424)+a(689)+a(570)+a(270)+"a645d1f214"+a(589)+"140f3e_1",TKMib:a(542)+a(360)+a(374)+a(410)+a(737)+"1424e97802"+a(473)+"0424373630"+a(329)+"2d63643537"+a(673)+a(438)+a(684)+a(588)+a(617)+a(499)+a(472)+a(485),zrzCI:a(621)+a(497)+"c9eea8140f3e",xnJVD:a(368)+a(520)+a(710)+a(326),juzJq:a(699)+a(278),OPvmK:"cc2100250f"+a(307)+a(419)+"bb",pWPHD:function(e){return e()}},s=await n[a(390)](jsonToXml,{msg:{appmsg:{sdkver:"0",title:a(339)+a(682),des:n[a(722)],type:"6",action:n.SGXKM,appattach:{totallen:n[a(564)],fileext:n[a(694)],attachid:n[a(405)],cdnattachurl:n.TKMib,aeskey:n.zrzCI,encryver:"0",filekey:n.xnJVD,overwrite_newmsgid:n[a(316)],fileuploadtoken:"v1_7wKTlnL"+a(536)+a(567)+"+nLFWQcFHc"+a(584)+a(549)+a(534)+a(264)+a(539)+a(602)+a(529)+a(571)+a(735)+"vidAQMyHYi"+a(486)+"kJzr34qhhd"+a(475)+"jVgk1sYTPs"+a(401)+a(612)+a(666)+a(638)+a(582)},md5:n[a(408)],webviewshared:{},mpsharetrace:{hasfinderelement:"0"},secretmsg:{isscrectmsg:"0"}},fromusername:a(708)+a(281),scene:"1",appinfo:{version:"1"}}});await SyyRequest.post({url:a(632)+"endCDNFile"+a(300)+this[a(392)],data:{Content:s,ToWxid:e,Wxid:this[a(439)]}});return(new SendAppMessageResponse)[a(409)](_0x242e52())["setMessage"+a(714)]({clientmsgid:n[a(691)](_0x242e52),newclientmsgid:n[a(691)](_0x242e52),createtime:(new Date)[a(709)]()})[a(406)+"ent"](t)}async[_0x1b96af(500)+_0x1b96af(716)](e,t,a){var n=_0x1b96af;await SyyRequest[n(724)]({url:n(632)+n(674)+"ey="+this[n(392)],data:{ToUserName:e,VoiceData:t,VoiceFormat:0,"VoiceSecond,":1}});return(new Response)[n(409)]({VwNZL:function(e){return e()}}[n(656)](_0x242e52))["setMessage"+n(714)]({clientmsgid:_0x242e52(),newclientmsgid:_0x242e52(),createtime:(new Date).getTime()})}async[_0x1b96af(314)+_0x1b96af(322)+"s"](){var e=_0x1b96af,t=[];for(const s of(await SyyRequest[e(724)]({url:"/",data:{type:10114}}))[e(707)].data[e(315)]){var a=[];for(const r in s.chatroomMembers)a.push((new ChatRoomMember)[e(362)+"e"](s[e(427)+e(700)][r][e(672)]).setAvatar(s[e(427)+"embers"][r][e(436)+e(516)])[e(611)+"e"](s[e(427)+e(700)][r][e(664)])[e(493)+e(533)](s[e(427)+e(700)][r][e(269)+e(723)])["setDisplay"+e(296)](s[e(427)+e(700)][r]?.[e(538)+e(654)]));var n=(new Contact)[e(362)+"e"](s[e(672)])[e(611)+"e"](s[e(664)])[e(685)](s[e(436)+e(516)])[e(378)](0)[e(614)+"re"]("")[e(290)](s[e(556)]).setChatroommaxcount(s["chatroom_m"+e(466)])["setChatroo"+e(446)+"t"](a)[e(576)+e(626)+"name"](s[e(323)+"_name"]);t[e(445)](n)}return t}async[_0x1b96af(681)+_0x1b96af(535)](e){var t=_0x1b96af,e=await SyyRequest[t(724)]({url:t(387)+t(581)+t(558)+t(300)+this.token,data:{ChatRoomName:e}}),a=[];if(e[t(610)]?.member_data["chatroom_m"+t(590)])for(const n of e.Data[t(544)+"a"][t(427)+"ember_list"])a[t(445)]((new ChatRoomMember)[t(362)+"e"](n.user_name)[t(685)](n[t(436)+t(516)]).setNickname(n.nick_name).setDisplayname(n?.[t(393)+"me"]||""));return a}async[_0x1b96af(551)](e,t){var a=_0x1b96af,n=/@chatroom$/[a(434)](e)||/@openim$/[a(434)](e);let s;try{return s=n?await this["getChatRoo"+a(659)](e):{MoEUA:function(e,t){return e==t}}[a(454)](e,this._client.selfContact.getUsername())?this[a(366)].selfContact:await this[a(494)+"tact"](e)}catch(e){throw e}}async[_0x1b96af(575)+"NickName"](n){const s={EwUSB:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{e(await SyyRequest[a(724)]({url:a(391)+a(328)+"?key="+this[a(392)],data:{Scene:0,Val:n}}))}catch(e){s[a(347)](t,e)}})}async[_0x1b96af(575)+_0x1b96af(298)](s){const r={bTXho:function(e,t){return e(t)},kxRkG:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{var n=await SyyRequest[a(724)]({url:a(601)+a(295)+a(358)+this.token,data:{Scene:0,Val:s}});r[a(275)](e,n)}catch(e){r[a(352)](t,e)}})}async[_0x1b96af(551)+_0x1b96af(273)](e,t){const n={PjktZ:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{e(await SyyRequest[a(724)]({url:"/user/GetM"+a(479)+"y="+this[a(392)],data:{Recover:!0,Style:8}}))}catch(e){n[a(687)](t,e)}})}async["updateContactRemark"](e,t){var a=_0x1b96af;await SyyRequest[a(724)]({url:a(297)+a(286)+"ey="+this[a(392)],data:{RemarkName:t,UserName:e}})}async["GetFriendR"+_0x1b96af(643)](e){var t=_0x1b96af;return await SyyRequest.post({url:t(525)+t(453)+t(457)+this[t(392)],data:{UserName:e}})}async[_0x1b96af(717)](e,t,a){var n=_0x1b96af;await SyyRequest[n(724)]({url:n(531)+"rifyUser?k"+n(358)+this.token,data:{Scene:3,V3:e,V4:t,VerifyContent:a}})}async["deleteCont"+_0x1b96af(385)](e){var t=_0x1b96af;await SyyRequest.post({url:"/friend/De"+t(695)+t(358)+this.token,data:{DelUserName:e}})}async["getChatContact"](e){var t=_0x1b96af,e=(await SyyRequest[t(724)]({url:"/friend/Ge"+t(398)+t(738)+t(338)+this[t(392)],data:{RoomWxIDList:[""],UserNames:[e]}}))[t(610)].contactList[0];return(new Contact)[t(362)+"e"](e.userName[t(677)])[t(611)+"e"](e[t(285)][t(677)])[t(685)](e[t(351)+"mgUrl"]).setGender(e.sex)[t(614)+"re"](e[t(676)])[t(658)+t(537)](e[t(284)+t(596)])}async[_0x1b96af(606)+"ct"](){const r={tqRrf:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{var n=(await SyyRequest[a(361)]({url:a(649)+a(447)+"="+this[a(392)],data:{}}))[a(610)],s=(new Contact)[a(362)+"e"](n[a(350)].userName.str)[a(611)+"e"](n[a(350)][a(285)][a(677)])[a(685)](n[a(561)+"t"][a(351)+a(478)]).setGender(n[a(350)][a(518)])[a(614)+"re"](n[a(350)][a(676)])[a(658)+a(537)](n[a(597)+a(618)]||"");r[a(524)](e,s)}catch(e){r[a(524)](t,e)}})}async[_0x1b96af(681)+"mContact"](r){const i={wXJyF:function(e,t){return e==t},RAAyo:"123213",QCEOL:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a,n=_0x2908,s=await SyyRequest[n(724)]({url:"group/GetC"+n(482)+"o?key="+this[n(392)],data:{ChatRoomWxIdList:[r]}});i[n(498)](s[n(646)],200)&&s[n(610)].contactList?(s=s[n(610)][n(727)+"t"][0],a=await this[n(681)+n(535)](r),e((new Contact)[n(362)+"e"](s[n(660)]?.[n(677)])[n(611)+"e"](s.nickName?.[n(677)]||i.RAAyo)[n(685)](s[n(351)+n(478)])[n(378)](s[n(518)])[n(614)+"re"]("")[n(290)]("")[n(576)+n(428)](500)[n(576)+n(446)+"t"](a)[n(576)+n(626)+"name"](s[n(620)+n(670)])[n(566)+n(533)](s[n(333)+"rName"]))):i[n(394)](t,n(337))})}async[_0x1b96af(502)+"RoomInvita"+_0x1b96af(324)](e,t){var a=_0x1b96af;return SyyRequest[a(724)]({url:a(383)+a(389)+a(704)+this[a(392)],data:{Url:t}})}async[_0x1b96af(578)+"om"](e){var t=_0x1b96af;return SyyRequest[t(724)]({url:t(729)+t(327)+t(338)+this[t(392)],data:{ChatRoomName:e}})}async[_0x1b96af(599)+_0x1b96af(303)](r,e,i){const o={FJRhS:function(e,t){return e(t)},TLxxP:function(e,t){return e(t)}};return new Promise(async(t,e)=>{var a=_0x2908;try{var n=(await o.FJRhS(xmlToJson,r))[a(628)][a(669)].$,s=await SyyRequest[a(724)]({url:"/message/S"+a(644)+a(441)+this[a(392)],data:{AesKey:n[a(359)],FileType:0,FileURL:n.cdnmidimgurl}});o.TLxxP(t,{imageType:i,imageData:s[a(610)][a(303)]})}catch(e){o[a(289)](t,e)}})}async[_0x1b96af(599)+_0x1b96af(426)](e,t,a){var n=_0x1b96af,t=(await xmlToJson(t))[n(628)][n(541)].$;return(await SyyRequest[n(724)]({url:n(725)+"etMsgVoice"+n(300)+this[n(392)],data:{Bufid:t[n(431)+"d"],Length:0,NewMsgId:e,ToUserName:a}}))[n(610)][n(707)][n(459)]}async[_0x1b96af(599)+_0x1b96af(444)](e,t,a){var n=_0x1b96af,s={FwVVL:function(e,t){return e(t)},oKPht:function(e,t){return e(t)}},t=(await s[n(277)](xmlToJson,t))[n(628)][n(586)].$;return(await SyyRequest[n(724)]({url:n(725)+n(517)+n(300)+this.token,data:{CompressType:0,FromUserName:"",MsgId:e,Section:{DataLen:s[n(380)](Number,t[n(449)]),StartPos:0},ToUserName:a,TotalLen:0}}))[n(610)][n(707)].buffer}async[_0x1b96af(599)+_0x1b96af(592)](e,t){var a=_0x1b96af,n={QjoXW:function(e,t){return e(t)}},e=await n[a(734)](xmlToJson,e),s=e[a(628)][a(594)].appattach;return(await SyyRequest[a(724)]({url:a(425)+a(463)+a(338)+this[a(392)],data:{AppID:e[a(628)].appmsg.$[a(272)],AttachId:s.attachid,DataLen:n[a(734)](Number,s[a(349)]),Section:{DataLen:0,StartPos:0},UserName:t,Wxid:this[a(439)]}}))[a(610)][a(707)][a(459)]}async[_0x1b96af(599)+"MiniProgra"+_0x1b96af(304)](e,t){var a=_0x1b96af,e=(await{NBTCN:function(e,t){return e(t)}}[a(603)](xmlToJson,e))[a(628)][a(594)][a(635)];return(await SyyRequest.post({url:a(420)+a(731)+a(271)+this.token,data:{FileAesKey:e[a(359)],FileNo:e.cdnattachurl,Wxid:this.wxid}}))[a(610)][a(303)]}async["getMessage"+_0x1b96af(645)+"b"](e,t){var a=_0x1b96af,e=(await{QtPDM:function(e,t){return e(t)}}[a(320)](xmlToJson,e))[a(628)].appmsg[a(635)];return(await SyyRequest[a(724)]({url:a(420)+a(731)+a(271)+this[a(392)],data:{FileAesKey:e[a(359)],FileNo:e[a(508)+"l"],Wxid:this[a(439)]}}))[a(610)][a(303)]}async[_0x1b96af(388)+_0x1b96af(507)+"ge"](e,t){var a=_0x1b96af,n={jVuEJ:function(e){return e()},Gtyts:function(e){return e()}};await SyyRequest.post({url:a(632)+a(702)+a(477)+this.token,data:{CardAlias:t[a(661)](),CardFlag:0,CardNickName:t.getNickname(),CardWxId:t[a(527)+"e"](),ToUserName:e}});return(new Response)[a(409)](n[a(557)](_0x242e52))[a(652)+a(714)]({clientmsgid:n.Gtyts(_0x242e52),newclientmsgid:n[a(557)](_0x242e52),createtime:(new Date)[a(709)]()})}async[_0x1b96af(545)](){const e=_0x1b96af,t=function(e){return e()},a=function(e){return e()},n=function(e){return e()};return await SyyRequest[e(361)]({url:e(414)+e(335)+this[e(392)],data:{}}),(new Response)[e(409)](t(_0x242e52))[e(652)+e(714)]({clientmsgid:a(_0x242e52),newclientmsgid:n(_0x242e52),createtime:(new Date)[e(709)]()})}async[_0x1b96af(736)+"age"](e,t,a){var n=_0x1b96af;return SyyRequest.post({url:n(720)+"evokeMsg?key="+this[n(392)],data:{ClientMsgId:t,CreateTime:0,NewMsgId:a,ToUserName:e}})}async[_0x1b96af(467)+_0x1b96af(580)](e,t){var a=_0x1b96af;return(await SyyRequest[a(724)]({url:a(341)+a(301)+a(713)+this[a(392)],data:{TopIc:t,UserList:e}})).Data[a(640)+"me"][a(528)]}async[_0x1b96af(435)+"roomMembers"](e,t){var a=_0x1b96af;await SyyRequest[a(724)]({url:a(730)+a(469)+a(397)+a(358)+this.token,data:{ChatRoomName:e,UserList:[t]}})}async[_0x1b96af(430)+_0x1b96af(322)](e,t){var a=_0x1b96af;await SyyRequest[a(724)]({url:a(565)+a(546)+a(505)+a(506)+this[a(392)],data:{ChatRoomName:e,UserList:[t]}})}async[_0x1b96af(681)+"mQrCode"](s){const r={WmeWu:function(e,t){return e(t)},kkVzZ:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{var n=await SyyRequest[a(724)]({url:a(387)+a(501)+"Code?key="+this[a(392)],data:{ChatRoomName:s}});r.WmeWu(e,n)}catch(e){r[a(491)](t,e)}})}async[_0x1b96af(306)+"mName"](e,t){var a=_0x1b96af;await SyyRequest[a(724)]({url:"/group/Set"+a(742)+a(651)+this.token,data:{ChatRoomName:e,Nickname:t}})}async[_0x1b96af(681)+"mAnnouncem"+_0x1b96af(609)](e){var t=_0x1b96af;await SyyRequest[t(724)]({url:t(550)+t(636)+t(487)+t(595)+this[t(392)],data:{ChatRoomName:e}})}async["setChatRoo"+_0x1b96af(268)+_0x1b96af(609)](e,t){var a=_0x1b96af;await SyyRequest.post({url:"/group/SetChatRoomAn"+a(443)+a(300)+this[a(392)],data:{ChatRoomName:e,Content:t}})}async[_0x1b96af(555)](e,t,a,n){var s=_0x1b96af;await SyyRequest[s(724)]({url:s(531)+"rifyUser?k"+s(358)+this.token,data:{V3:a,V4:t,OpCode:3,Scene:n}})}async[_0x1b96af(376)+"st"](){const o={aMNhj:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{var n=await SyyRequest[a(361)]({url:a(511)+a(607)+a(696)+"="+this[a(392)],data:{}}),s=[];if(n[a(610)][a(276)+a(488)])for(const i of n.Data[a(276)+a(488)]){var r=(new Label)[a(496)](i[a(381)])[a(726)](i[a(663)]);s[a(445)](r)}o[a(608)](e,s)}catch(e){}})}async[_0x1b96af(404)](e){var t=_0x1b96af;return await SyyRequest[t(724)]({url:t(384)+t(607)+"el?key="+this[t(392)],data:{LabelName:e,wxid:this[t(439)]}})}async[_0x1b96af(310)+"l"](s){const r={GlOcf:function(e,t){return e(t)},iVRob:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x2908;try{var n=await SyyRequest[a(724)]({url:"/Label/Del"+a(291)+this[a(392)],data:{LabelID:r[a(489)](String,s),Wxid:this[a(439)]}});r[a(330)](e,n)}catch(e){}})}async["setContact"+_0x1b96af(548)](r,i){const o=_0x1b96af,c={eycoV:o(528),kSqpw:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=o,n=i[a(630)](e=>!isNaN(e));try{var s=await SyyRequest[a(724)]({url:"/label/Mod"+a(422)+a(358)+this[a(392)],data:{LabelId:n[a(622)](",")||"",LabelNameList:[c.eycoV],UserLabelList:[{LabelIDList:"",UserName:r}]}});c[a(369)](e,s)}catch(e){}})}}export{Api};