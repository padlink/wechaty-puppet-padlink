const _0x22fefc=_0x395d;!function(){for(var e=_0x395d,t=_0x47b3();;)try{if(472826==+parseInt(e(268))*(parseInt(e(536))/2)+-parseInt(e(403))/3*(parseInt(e(613))/4)+parseInt(e(543))/5*(-parseInt(e(540))/6)+parseInt(e(646))/7+parseInt(e(691))/8*(-parseInt(e(314))/9)+parseInt(e(578))/10*(-parseInt(e(686))/11)+parseInt(e(270))/12*(parseInt(e(533))/13))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();import _0x50eea2 from"../index.js";import"url";import _0xa9d577 from"cuid";import"path";import"../../utils/token.js";import{Polling}from"../utils/polling.js";function _0x395d(e,t){const a=_0x47b3();return(_0x395d=function(e,t){return e-=238,a[e]})(e,t)}import{Response,SendAppMessageResponse,ChatRoomMember,Contact,Message,Label}from"../../map/index.js";import{CacheManager}from"../../cache-manager.js";import{jsonToXml,xmlToJson}from"../../utils/xml-to-json.js";function _0x47b3(){const e=["/Msg/Sync","/Group/Cre","ClLTDHZQ6R","chatroomMe","selfContac","Data","mMembers","nmg7opHS3F","NdeWH","kiZCq","33GosQiC","ete","/Msg/SendC","NORMAL","sendFileMe","1196304mlxAjv","ation","xUrnW","Group/GetC","updateSelf","mber","toObject","/Label/Add","5efa5257be","lete","NickName","remark","v1_7wKTlnL","poll_heart","FHGgf","332322d343","ISvqpWoFoE","setId","setMsgcont","SXkby","140f3e_1","view","/Group/Qui","EHuwP",".txt","GetFriendR","4dfcfca645","getChatCon","xVMjJr8zu/","SmallHeadI","jHgSN","221702IOlvsm","nouncement","1078632pHUmkd","ateChatRoo","1424e97802","CreateTime","ist","setChatRoo","2d38373533","ent","/Group/Del","logout","3d22d51b80","atuserlist","2764_17223","mnXhD","6135646335","Image","ContactLis","/Tools/Cdn","MsgId","Uuid","NewChatroo","pid=","ckName","TrWQJ","/Friend/Pa","2283821063","/Msg/SendV","AuJXH","435372d346","setType","20100044b3","attachid","wxid","setRemark","msgsource","expiredTim","Uthlk","DQWiE","ogin",".com/mp/wa","gRqLW","/png;base6","a645d1f214","EskWE","45mjimRO","RCode","teProfile","setAlias","/Group/Add","&amp;type=","vBoiR","mbers","userName","push","FromUserNa","/Msg/SendE","NzwnV","buffer","heart","setMessage","AiijP","etail","UYDj/Zspdy","2d34633965","tFriendRel","2d63643537","getAllChat","jUcsY","MsgSource","ZTgfkeB","xIdct","0490201000","sendImageM","3637640204","/User/GetQ","10300","ToUserName","46cd881fa9","0100040500","nloadFile","Status","userInfo","getMyConta","acceptChat","moji","setEncrypt","createChat","105138159","setAvatar","339652d626","descriptio","essage","states","getLabelLi","mberList","hkzhA","RoomInvita","/Label/Get","khgec","get","ChatRoomIn","45aa6d4173","http://wei","/Tools/Dow","revokeMess","filter","setFromuse","DNFile","DisplayNam","setNicknam","8177193250","106112608","setTousern","mName","mDolx","9da1c45bee","chatroomNi","contact","addLabel","post","stop","/Group/Sca","UserName","QRCode","message","labelID","getNicknam","test","Signature","username","url","ZeRIJ","sage","237480EXxCJE","forwardMes","mgUrl","callback","MsgType","0424373766","roomMember","wxid_yqw0i","EZCVu","RuAar","/Tools/Upl","oadFile","labelName","EncryptUse","0424373630","2d34303430","msg","046690b731","setSignatu","thumbURL","KYgbF","AntispamTi","login","4c505700","wxid_kxbss","contactcon","getUsernam","2f591b0204","mData","/Friend/Ge","/Group/Get","RWyiW","45df3d1bd8","deleteCont","setAtList","OjpV/n9TRf","e attempts","mQrCode","/Msg/Revok","init","DownloadIm","totallen","_client","setMsgid","getLoginCo","setRoomMem","appattach","jvryL","GbsFkl8KMI","mmemberLis","/Msg/SendT","Brnnn","cc2100250f","onLoginSuc","01000204cf","cket","https://mp","mrGSs","uuNCO","vfpVA","4c4d3700","sagewenjia","LEPcB","2d38666462","rIGnv","/Friend/Se","xJsxE","HRHuC","onSync","join","VXDxU","labelPairL","name","Voice","/Login/Log","ZBkgp","mThumb","a5c0085ef9","stringify","Message","184 B","ge_timer","ndRequest","poll_messa","/x/","setChatroo","sendVideoM","新建文本文档 (2)","gILpz","OYdPb","ssVerify","uuid","661e8de943","aeskey","MQheW","send_text","HmkhQ","Label","yhtjF","data","ber","登陆成功","cess","mowneruser","EwqBG","/Label/Del","nloadVoice","gZHZI","ype=3#wech","b249920203","ame","HDqHw","QwHVf","o8SkgbwX5o","8b32c04243","70f5fd6346","c9eea8140f","getContact","getSecondL","matTr","2d30666231","P+4382v9Q7","6266616431","JvWBj","errpage?ap","deNew","quitChatRo","4020405140","act","/Login/Hea","117nacvTv","044b304902","acceptUser","4CMJGQh","sendMessag","chatroomme","ssage","36zwmJut","setCreatet","XNtCP","157695XTYBbZ","ChatRoomMe","CmOZR","700_4dfcfc","3239643232","e_contact","kickout","0270823229","SLlMO","ChatRoomNa","setContact","0518080302","cdnattachu","mberDetail","tion","sendVoiceM","setGender","log","videomsg","er multipl","oMFDn","getMessage","tRemarks","failed aft","tCardMessa","EIr056iMnf","HvrnL","plus_","Room","tact","/User/GetC","vidAQMyHYi","YtaSR","AddMsgs","0050201000","302240MrcPUS","age","Sex","chatRoomNa","string","at_redirec","waFVC","dImg","_cacheMgr","WIzlM","getAlias","poll","NUWkF","Pczwu","31948","getInitMes","eLink","/Msg/Uploa","split","getChatRoo","mmaxcount","qnoqm","Attach","abs","/Msg/Share","eEmoji","204cfb2499","removeLabe","npAXD","emit","RoomMember","kLazS","txt","clientmsgi","setUsernam","12iFbMvs","HeartBeat ","AttachThum","d1f21482a9","byaHG","vjmJw","revokeinfo","Out?wxid=","length","/User/Upda","rtBeat?wxi","/Login/Get","chatrooms","184","hatRoomInf","oice","/Label/Upd","82a9c9eea8","@cdn_30570","xCount","/Msg/SendA","userInfoEx","checkLogin","801f4f18eb","ChatRoomAn","747","chatroomMa","GPuzYCdPvw","100","rwOuw","jyPxmdi+Gj","cdnthumbur","mAnnouncem","3398668xfhVUr","0466a8b32c","appmsg","BCKDy","cdnmidimgu","data:image","nJvZNQCfoF","3057020100","acctSectRe","79izHT2VeB","setContent","getRoomIds","voicemsg","KJlVo","rPLwc","IoQCs","onQrCodeEv","setDisplay","ckQR?uuid=","smallHeadI","+nLFWQcFHc","XLZnR","deByFirst","2f58b70204","token","inviterUse","dSRKc","jpg","getTime","Code"];return(_0x47b3=function(){return e})()}var ImageType;!function(e){var t=_0x395d,a={IGIRz:"THUMB",Uthlk:"NORMAL"};e[e.THUMB=0]=a.IGIRz,e[e[a[t(306)]]=1]=t(689),e[e.HD=2]="HD"}(ImageType=ImageType||{});class Api{[_0x22fefc(586)];[_0x22fefc(445)];[_0x22fefc(670)];[_0x22fefc(494)];["wxid"];[_0x22fefc(406)];[_0x22fefc(486)+_0x22fefc(484)];constructor(e){this[_0x22fefc(445)]=e}async[_0x22fefc(442)](){var e=_0x22fefc;this[e(586)]=new CacheManager(this[e(670)]),await this[e(586)][e(442)]()}async[_0x22fefc(425)](e,t){var a=_0x22fefc,t=(this[a(406)]=t,this._client[a(670)].split("puppet_pad"+a(570))[1]),t=(this.token=t,await this[a(442)](),await this[a(586)].getUUID(t));this[a(494)]=t?.[a(494)],this[a(302)]=t?.[a(302)],t?.wxid?this[a(521)+a(308)]():await this[a(447)+a(668)]()}[_0x22fefc(447)+"deByFirst"]=async()=>{const s=_0x22fefc,r={OYdPb:function(e,t,a){return e(t,a)},AiijP:function(e,t){return e*t},waFVC:function(e,t){return e==t},DQWiE:function(e,t){return e(t)},kLazS:function(e,t){return e==t}};try{let n=this[s(406)],i=await this[s(447)+s(528)](this.token);if(r[s(609)](i[s(675)],1)){this.uuid=i[s(681)][s(289)],n.onOneClickEvent({status:1,imageUrl:s(372)+"xin.qq.com"+s(487)+i.Data[s(289)]});const c=new Polling;let t=null;c.poll(2e3,async()=>{const a=s;var e=await this[a(635)+"Status"]();if(t=t||r[a(492)](setTimeout,async()=>{var e=a;c.stop(),n.onQrCodeEvent({status:5}),await this[e(447)+e(668)]()},r[a(330)](e.Data[a(305)+"e"],1e3)),r[a(584)](e.Code,0)){if(1==e[a(681)][a(362)]&&n[a(662)+a(277)]({status:2}),r[a(584)](e[a(681)][a(362)],4)&&n[a(662)+a(277)]({status:4}),r[a(584)](e[a(482)],a(504))){c[a(390)](),t&&(r[a(307)](clearTimeout,t),t=null),n["onQrCodeEv"+a(277)]({status:3}),this[a(586)].setUUID(this[a(670)],{uuid:i[a(681)][a(289)],wxid:e.Data[a(654)+"sp"][a(322)]}),this.wxid=e.Data.acctSectResp.userName;try{let{messageList:e,contactList:t}=await this[a(593)+a(402)]();this._client[a(680)+"t"]=await this[a(352)+"ct"](this.wxid),await n[a(456)+a(505)](this[a(445)][a(680)+"t"]),await n[a(471)]({getContactList(){return t},getMessageList(){return e}}),this["poll_chang"+a(548)](3e3),this[a(486)+"ge"](),this[a(250)]()}catch(e){}}}else r.waFVC(e[a(675)],-8)})}}catch(e){}};async[_0x22fefc(521)+_0x22fefc(308)](){var a=_0x22fefc;try{await this[a(328)]();let{messageList:e,contactList:t}=await this[a(593)+a(402)]();this[a(445)][a(680)+"t"]=await this[a(352)+"ct"](this[a(302)]),await this[a(406)][a(456)+a(505)](this[a(445)][a(680)+"t"]),await this[a(406)][a(471)]({getContactList(){return t},getMessageList(){return e}}),this[a(486)+"ge"](),this["poll_chang"+a(548)](3e3),this[a(250)]()}catch(e){await this[a(447)+a(668)]()}}["poll_message"](){const n=_0x22fefc,i={oMFDn:function(e,t){return t<e},EuhBU:n(394),XNtCP:function(e,t){return t<e},Brnnn:n(387)},e=new Polling;(this.poll_message_timer=e)[n(589)](1e3,async()=>{var e=n,{messageList:t,contactList:a}=await this[e(564)]();i[e(563)](t[e(621)],0)&&this[e(445)][e(607)](i.EuhBU,t),i[e(542)](a[e(621)],0)&&this[e(445)][e(607)](i[e(454)],a)})}async[_0x22fefc(447)+_0x22fefc(528)](e=""){var t=_0x22fefc,a={WIzlM:t(582)};return _0x50eea2[t(389)]({url:t(624)+"QR",data:{DeviceID:e,DeviceName:a[t(587)],Proxy:{ProxyIp:"string",ProxyPassword:t(582),ProxyUser:a[t(587)]}}})}async[_0x22fefc(635)+_0x22fefc(350)](){var e=_0x22fefc;return _0x50eea2[e(389)]({url:"/Login/Che"+e(664)+this[e(494)],data:{}})}[_0x22fefc(250)](){const e=_0x22fefc,a={KKuiY:e(549),JvWBj:function(e,t){return e*t}},t=new Polling;t[e(589)](a[e(526)](150,1e3),async()=>{var t=e;try{await this.heart()}catch(e){this[t(486)+"ge_timer"][t(390)](),await this[t(586)]?.close(),this[t(586)]=void 0,this[t(445)][t(607)](a.KKuiY,"")}})}async[_0x22fefc(328)](e=20){var t=_0x22fefc,a={qnoqm:function(e,t){return e<t},HvrnL:function(e,t){return e===t},hkzhA:t(614)+t(566)+t(562)+t(439)};let n=0;for(;a[t(599)](n,e);){try{var i=await _0x50eea2[t(389)]({url:t(532)+t(623)+"d="+this[t(302)]});if(a[t(569)](i[t(482)],"成功")||!i)return i}catch(e){}n++}throw new Error(a[t(365)])}["poll_change_contact"]=async t=>{for(var e=_0x22fefc,a={LEPcB:function(e,t){return e!==t},XLZnR:function(e,t){return e<t},zXJsk:function(e,t){return e-t},FHGgf:function(e,t){return e!=t},zbYOV:e(387),GbxLe:function(e,t){return e!==t}};;){try{var n=await this[e(586)]?.[e(657)]();if(!n)return;for(const o of n)try{var i,s,r=await this[e(597)+"mContact"](o),c=await this[e(586)]?.["getRoomMem"+e(503)](o);c&&0<r["getChatroo"+e(452)+"t"]()[e(621)]?(i=c,s=r[e(243)]()[e(538)+e(364)],(a[e(465)](i[e(621)],s[e(621)])&&a[e(667)](Math[e(601)](a.zXJsk(i[e(621)],s[e(621)])),3)||a[e(251)](JSON[e(481)](i),JSON.stringify(s)))&&(this[e(586)]?.[e(448)+e(503)](o,r[e(243)]()[e(538)+"mberList"]),console[e(560)](e(428)+e(572),r),this[e(445)][e(607)](a.zbYOV,[r]))):a.GbxLe(r["getChatroo"+e(452)+"t"]()[e(621)],0)&&this[e(586)]?.[e(448)+e(503)](o,r[e(243)]().chatroommemberList)}catch(e){}}catch(e){}await new Promise(e=>setTimeout(e,t))}};async[_0x22fefc(593)+_0x22fefc(402)](){const i={IoQCs:function(e,t){return e==t}};let s=this,r=[],c=[];return await async function e(){var t=_0x395d,{messageList:a,contactList:n}=await s[t(564)](!0);r.push(...a),c[t(323)](...n),a&&i[t(661)](a[t(621)],0)&&0==n[t(621)]||await e()}(),{messageList:r,contactList:c}}async["getMessage"](e){var t=_0x22fefc,a={ZBkgp:t(582),rwOuw:function(e,t){return t<e},rPLwc:function(e,t){return e(t)}},n=await _0x50eea2.post({url:t(676),data:{Scene:0,Synckey:a[t(478)],Wxid:this[t(302)]}}),i=[];if(0==n[t(675)]&&(n[t(681)][t(576)]&&a[t(642)](n[t(681)][t(576)][t(621)],0)))for(const o of n[t(681)].AddMsgs){var s=(new Message)[t(376)+"rname"](o[t(324)+"me"][t(582)])[t(382)+t(513)](o[t(346)][t(582)])[t(254)](o[t(288)])[t(299)](o[t(407)])[t(541)+"ime"](o[t(273)]),r=/@chatroom$/[t(397)](o[t(324)+"me"][t(582)]),c=/@chatroom$/[t(397)](o[t(346)][t(582)]);let e=[];(r||c)&&(this[t(586)]?.setRoom(o[t(324)+"me"][t(582)]||o[t(346)][t(582)],!0),r=(await a[t(660)](xmlToJson,o.MsgSource))[t(304)]?.[t(281)]?(await xmlToJson(o[t(338)]))[t(304)][t(281)][t(596)](","):[],e=r.filter(e=>""!==e)),s[t(656)](o.Content[t(582)])[t(437)](e),i.push(s)}return{messageList:i,contactList:[]}}async[_0x22fefc(498)](e,t,a){var n=_0x22fefc;await _0x50eea2[n(389)]({url:n(453)+"xt",data:{At:a[n(472)](","),Content:t,ToWxid:e,Type:0,Wxid:this[n(302)]}});return(new Response)[n(446)]({EZCVu:function(e){return e()}}[n(411)](_0xa9d577))[n(329)+"revokeinfo"]({clientmsgid:_0xa9d577(),newclientmsgid:_0xa9d577(),createtime:(new Date)[n(674)]()})}async[_0x22fefc(342)+"essage"](e,t,a){var n=_0x22fefc,i={mDolx:function(e){return e()},jvryL:function(e){return e()}};await _0x50eea2[n(389)]({url:n(595)+n(585),data:{Base64:t,ToWxid:e,Wxid:this.wxid}});return(new Response)[n(446)](i[n(384)](_0xa9d577))[n(329)+n(619)]({clientmsgid:_0xa9d577(),newclientmsgid:i[n(450)](_0xa9d577),createtime:(new Date)[n(674)]()})}async[_0x22fefc(489)+"essage"](e,t,a){var n=_0x22fefc,i={CmOZR:function(e){return e()},pKZUF:function(e){return e()}};await _0x50eea2[n(389)]({url:n(296)+"ideo",data:{Base64:t,ImageBase64:n(651)+n(311)+"4,"+a,PlayLength:0,ToWxid:e,Wxid:this[n(302)]}});return(new Response)[n(446)](i[n(545)](_0xa9d577))[n(329)+"revokeinfo"]({clientmsgid:i.pKZUF(_0xa9d577),newclientmsgid:_0xa9d577(),createtime:(new Date)[n(674)]()})}async[_0x22fefc(690)+_0x22fefc(539)](e){var t=_0x22fefc,a={xIdct:function(e){return e()},mnXhD:function(e){return e()}};await _0x50eea2[t(389)]({url:t(413)+t(414),data:{Base64:e,Wxid:this[t(302)]}});return(new Response)[t(446)](_0xa9d577())["setMessage"+t(619)]({clientmsgid:a[t(340)](_0xa9d577),newclientmsgid:a[t(283)](_0xa9d577),createtime:(new Date)[t(674)]()})}async["sendMessag"+_0x22fefc(603)](e,t,a){var n=_0x22fefc,i={SLlMO:function(e){return e()},HRHuC:function(e){return e()}};await _0x50eea2[n(389)]({url:n(325)+n(354),data:{Md5:t,ToWxid:e,TotalLen:a,Wxid:this[n(302)]}});return(new Response)[n(446)](i[n(551)](_0xa9d577))[n(329)+n(619)]({clientmsgid:i[n(470)](_0xa9d577),newclientmsgid:i.SLlMO(_0xa9d577),createtime:(new Date).getTime()})}async[_0x22fefc(537)+_0x22fefc(594)](e,t,a){var n=_0x22fefc,i={BCKDy:n(258),EwqBG:n(653)+n(534)+n(457)+"b249920203"+n(669)+"7366327002"+n(420)+n(408)+n(547)+n(466)+"2d34633235"+n(276)+n(523)+n(525)+"3539320204"+n(554)+n(348)+n(463),MQheW:n(636)+"05147db6b1"+n(480)+"45",AuJXH:n(495)+n(295)+"2126fde5094b",vjmJw:n(641),SXkby:function(e,t){return e(t)},KYgbF:function(e){return e()}},a={appmsg:{$:{appid:"",sdkver:"0"},title:a.title,des:a[n(360)+"n"],action:i[n(649)],type:"5",showtype:"0",content:"",url:a[n(400)],dataurl:"",lowurl:"",lowdataurl:"",recorditem:"",thumburl:a[n(422)],messageaction:"",laninfo:"",extinfo:"",sourceusername:"",sourcedisplayname:"",commenturl:"",appattach:{totallen:"0",attachid:"",emoticonmd5:"",fileext:"",aeskey:"",cdnthumburl:i[n(507)],cdnthumbaeskey:i[n(497)],cdnthumbmd5:i[n(297)],cdnthumblength:n(345),cdnthumbwidth:i[n(618)],cdnthumbheight:i[n(618)]},webviewshared:{publisherId:"msg_825269"+n(550)+n(638),publisherReqId:n(381)},weappinfo:{pagepath:"",username:"",appid:"",appservicetype:"0"},websearch:""}},s=await i[n(256)](jsonToXml,a),a=await i[n(256)](jsonToXml,{msg:a});await _0x50eea2[n(389)]({url:n(633)+"pp",data:{ToWxid:t,Type:0,Wxid:this[n(302)],Xml:s}});return(new SendAppMessageResponse).setMsgid(i[n(423)](_0xa9d577))[n(329)+n(619)]({clientmsgid:i.KYgbF(_0xa9d577),newclientmsgid:i[n(423)](_0xa9d577),createtime:(new Date)[n(674)]()})[n(255)+n(277)](a)}async[_0x22fefc(537)+"eMiniProgram"](e,t){var a=_0x22fefc,n={xJsxE:a(371)+a(380)+a(347)+"2d",xIpVK:a(673),IdSji:"dbb0e647bd"+a(435)+a(280)+"73",RuAar:"65264",matTr:a(641),vfpVA:function(e,t){return e(t)},EskWE:function(e){return e()},dSRKc:function(e){return e()}},{appid:t,description:i,iconUrl:s,shareId:r,thumbKey:c,thumbUrl:o,username:f,title:d,pagePath:x}=t,d={appmsg:{appid:t,title:d,action:a(258),type:"33",showtype:"0",url:a(459)+".weixin.qq"+a(309)+a(527)+a(291)+t+a(319)+"upgrade&amp;upgradet"+a(511)+a(583)+"t",md5:n[a(469)],sourcedisplayname:i,appattach:{totallen:"0",fileext:n.xIpVK,filekey:n.IdSji,cdnthumburl:o,aeskey:a(245)+a(518)+"76f997e79129",cdnthumbaeskey:c,cdnthumbmd5:"45aa6d4173"+a(380)+a(347)+"2d",encryver:"1",cdnthumblength:n[a(412)],cdnthumbheight:n[a(522)],cdnthumbwidth:n.matTr},webviewshared:{publisherReqId:"0"},weappinfo:{pagepath:x,username:f,appid:t,type:"2",weappiconurl:s,appservicetype:"0",shareId:r}}},i=await n[a(462)](jsonToXml,d),o=await n.vfpVA(jsonToXml,{msg:d});await _0x50eea2[a(389)]({url:"/Msg/SendApp",data:{ToWxid:e,Type:0,Wxid:this[a(302)],Xml:i}});return(new SendAppMessageResponse)[a(446)](n[a(313)](_0xa9d577))[a(329)+a(619)]({clientmsgid:n[a(672)](_0xa9d577),newclientmsgid:_0xa9d577(),createtime:(new Date)[a(674)]()})["setMsgcont"+a(277)](o)}async[_0x22fefc(404)+"sage"](e,t){var a=_0x22fefc,n={NdeWH:function(e,t){return e(t)},cceJJ:function(e){return e()}},i=await n[a(684)](xmlToJson,t),i=await n.NdeWH(jsonToXml,{appmsg:i[a(419)].appmsg});await _0x50eea2.post({url:a(633)+"pp",data:{ToWxid:e,Type:0,Wxid:this[a(302)],Xml:i}});return(new SendAppMessageResponse)[a(446)](n.cceJJ(_0xa9d577))[a(329)+"revokeinfo"]({clientmsgid:n.cceJJ(_0xa9d577),newclientmsgid:_0xa9d577(),createtime:(new Date)[a(674)]()})[a(255)+a(277)](t)}async[_0x22fefc(404)+_0x22fefc(464)+"n"](e,t){var a=_0x22fefc,n={QwHVf:function(e,t){return e(t)},VXDxU:a(490)+a(261),TrWQJ:a(258),KJlVo:a(626),ZeRIJ:a(631)+a(300)+a(341)+a(604)+"202032f591b02041424e978020466a"+a(517)+"7363061356463352d636"+a(298)+a(359)+a(252)+"03430323966336336376"+a(530)+a(577)+"405004c505"+a(546)+a(312)+a(630)+a(257),gILpz:a(653)+a(534)+a(457)+a(512)+a(430)+a(272)+a(647)+a(417)+a(284)+a(335)+a(333)+"2d62633232"+a(418)+"3239663363"+a(343)+"0514000502"+a(348)+a(426),HDqHw:a(410)+"rrcmoyd12_"+a(282)+a(592),NzwnV:"7009346818"+a(357),NUWkF:a(249)+a(332)+a(683)+a(666)+a(652)+a(265)+a(655)+a(524)+a(640)+a(678)+"ggFOpF8kP4x5b2kETRF9bURmKeTyO6"+a(574)+a(643)+"kJzr34qhhd"+a(451)+"jVgk1sYTPs"+a(438)+a(568)+a(253)+a(516)+a(339),mrGSs:a(455)+a(385)+"d68d867756bb",jHgSN:a(427)+"8yjkqx122",nyoRz:function(e){return e()},vleOT:function(e){return e()}},i=await n[a(515)](jsonToXml,{msg:{appmsg:{sdkver:"0",title:n[a(473)],des:a(483),type:"6",action:n[a(293)],appattach:{totallen:n[a(659)],fileext:a(610),attachid:n[a(401)],cdnattachurl:n[a(491)],aeskey:a(263)+a(616)+a(519)+"3e",encryver:"0",filekey:n[a(514)],overwrite_newmsgid:n[a(326)],fileuploadtoken:n[a(590)]},md5:n[a(460)],webviewshared:{},mpsharetrace:{hasfinderelement:"0"},secretmsg:{isscrectmsg:"0"}},fromusername:n[a(267)],scene:"1",appinfo:{version:"1"}}});await _0x50eea2[a(389)]({url:a(688)+a(377),data:{Content:i,ToWxid:e,Wxid:this[a(302)]}});return(new SendAppMessageResponse)[a(446)](n.nyoRz(_0xa9d577))["setMessage"+a(619)]({clientmsgid:n.vleOT(_0xa9d577),newclientmsgid:n.nyoRz(_0xa9d577),createtime:(new Date)[a(674)]()})[a(255)+a(277)](t)}async[_0x22fefc(558)+_0x22fefc(361)](e,t,a){var n=_0x22fefc,i={xUrnW:function(e){return e()},uuNCO:function(e){return e()}};await _0x50eea2[n(389)]({url:n(296)+n(628),data:{Base64:t,ToWxid:e,Type:4,VoiceTime:1,Wxid:this[n(302)]}});return(new Response)[n(446)](i[n(239)](_0xa9d577))[n(329)+n(619)]({clientmsgid:i[n(461)](_0xa9d577),newclientmsgid:_0xa9d577(),createtime:(new Date)[n(674)]()})}async[_0x22fefc(336)+_0x22fefc(608)+"s"](){var e=_0x22fefc,t=[];for(const i of(await _0x50eea2.post({url:"/",data:{type:10114}}))[e(502)][e(502)][e(625)]){var a=[];for(const s in i[e(679)+"mbers"])a[e(323)]((new ChatRoomMember)[e(612)+"e"](i["chatroomMe"+e(321)][s].userName)[e(358)](i[e(679)+"mbers"][s]["smallHeadI"+e(405)]).setNickname(i[e(679)+e(321)][s].nickName)["setInviter"+e(399)](i[e(679)+e(321)][s][e(671)+"rName"])["setDisplay"+e(475)](i[e(679)+e(321)][s]?.[e(386)+e(292)]));var n=(new Contact)[e(612)+"e"](i[e(322)])[e(379)+"e"](i.nickName).setAvatar(i[e(665)+e(405)]).setGender(0).setSignature("")[e(303)](i[e(248)])[e(488)+"mmaxcount"](i[e(639)+e(632)])[e(488)+e(452)+"t"](a)[e(488)+"mowneruser"+e(475)](i["ownerUserN"+e(513)]);t[e(323)](n)}return t}async[_0x22fefc(597)+"mMembers"](e){var t=_0x22fefc,e=await _0x50eea2.post({url:t(433)+t(544)+t(556),data:{QID:e,Wxid:this.wxid}}),a=[];if(e[t(681)]?.[t(290)+t(431)]["ChatRoomMe"+t(242)])for(const n of e[t(681)][t(290)+t(431)][t(544)+"mber"])a[t(323)]((new ChatRoomMember).setUsername(n[t(392)])[t(358)](n[t(266)+t(405)]).setNickname(n[t(247)])[t(663)+t(475)](n?.[t(378)+"e"]||""));return a}async[_0x22fefc(520)](e,t){var a=_0x22fefc,n=/@chatroom$/[a(397)](e);let i;return i=n?await this[a(597)+"mContact"](e):{EHuwP:function(e,t){return e==t}}[a(260)](e,this[a(445)][a(680)+"t"][a(429)+"e"]())?this[a(445)][a(680)+"t"]:await this["getChatCon"+a(572)](e)}async[_0x22fefc(241)+_0x22fefc(247)](i){const s={yhtjF:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{var n=await _0x50eea2[a(389)]({url:"/User/Upda"+a(316),data:{NickName:i,Wxid:this[a(302)]}});s[a(501)](e,n)}catch(e){s[a(501)](t,e)}})}async[_0x22fefc(241)+_0x22fefc(398)](i){const s={YtaSR:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{var n=await _0x50eea2[a(389)]({url:a(622)+"teProfile",data:{Signature:i,Wxid:this[a(302)]}});s[a(575)](e,n)}catch(e){t(e)}})}async[_0x22fefc(520)+_0x22fefc(393)](e,n){const i={vwAMD:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{e(await _0x50eea2[a(389)]({url:a(344)+a(315),data:{Style:n,Wxid:this.wxid}}))}catch(e){i.vwAMD(t,e)}})}async["updateContactRemark"](e,t){var a=_0x22fefc;await _0x50eea2[a(389)]({url:a(468)+a(565),data:{Remarks:t,ToWxid:e,Wxid:this[a(302)]}})}async[_0x22fefc(262)+"elation"](e){var t=_0x22fefc;return await _0x50eea2.post({url:t(432)+t(334)+t(238),data:{UserName:e,Wxid:this.wxid}})}async["addContact"](e,t,a){var n=_0x22fefc;await _0x50eea2.post({url:n(468)+n(485),data:{Scene:0,V1:e,V2:t,VerifyContent:a,Wxid:this[n(302)]}})}async[_0x22fefc(436)+_0x22fefc(531)](e){var t=_0x22fefc;await _0x50eea2[t(389)]({url:"/Friend/De"+t(246),data:{ToWxid:e,Wxid:this[t(302)]}})}async[_0x22fefc(264)+_0x22fefc(572)](e){var t=_0x22fefc,e=(await _0x50eea2.post({url:t(432)+"tContractD"+t(331),data:{ChatRoom:"string",Towxids:e,Wxid:this.wxid}}))[t(681)][t(286)+"t"][0];return(new Contact)[t(612)+"e"](e[t(392)][t(582)])[t(379)+"e"](e[t(247)][t(582)])[t(358)](e[t(266)+"mgUrl"])[t(559)](e[t(580)])[t(421)+"re"](e[t(398)]).setAntispamticket(e[t(424)+t(458)])[t(317)](e.Alias)}async["getMyContact"](e){const s={npAXD:function(e,t){return e(t)},rIGnv:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{var n=(await _0x50eea2[a(389)]({url:a(573)+"ontractProfile?wxid="+this[a(302)],data:{}})).Data,i=(new Contact)[a(612)+"e"](n[a(351)][a(392)].string).setNickname(n[a(351)].NickName.string).setAvatar(n[a(634)+"t"][a(266)+"mgUrl"])[a(559)](n[a(351)].Sex)[a(421)+"re"](n[a(351)].Signature).setAntispamticket(n["AntispamTi"+a(458)]||"");s[a(606)](e,i)}catch(e){s[a(467)](t,e)}})}async[_0x22fefc(597)+"mContact"](s){const r={khgec:function(e,t){return e==t},gRqLW:function(e,t){return e(t)},RWyiW:"数据出错"};return new Promise(async(e,t)=>{var a,n=_0x395d,i=await _0x50eea2[n(389)]({url:n(240)+n(627)+"o",data:{QID:s,Wxid:this.wxid}});r[n(368)](i.Code,0)&&i[n(681)][n(286)+"t"]?(i=i[n(681)][n(286)+"t"][0],a=await this["getChatRoo"+n(682)](s),a=(new Contact).setUsername(i[n(392)][n(582)])[n(379)+"e"](i[n(247)][n(582)]).setAvatar(i[n(266)+"mgUrl"])[n(559)](0)[n(421)+"re"]("")[n(303)]("")["setChatroo"+n(598)](500)[n(488)+n(452)+"t"](a)[n(488)+n(506)+n(475)](i.ChatRoomOwner)[n(355)+n(399)](i[n(416)+"rName"]),r[n(310)](e,a)):r[n(310)](t,r[n(434)])})}async[_0x22fefc(353)+_0x22fefc(366)+_0x22fefc(557)](e,t){var a=_0x22fefc;return _0x50eea2[a(389)]({url:a(391)+"nIntoGroup",data:{Url:t,Wxid:this[a(302)]}})}async[_0x22fefc(529)+"om"](e){var t=_0x22fefc;return _0x50eea2.post({url:t(259)+"t",data:{QID:e,Wxid:this.wxid}})}async[_0x22fefc(564)+_0x22fefc(285)](s,e,r){const c={Pczwu:function(e,t){return e(t)}};return new Promise(async(t,e)=>{var a=_0x395d;try{var n=(await c[a(591)](xmlToJson,s)).msg.img.$,i=await _0x50eea2[a(389)]({url:a(287)+"DownloadImage",data:{FileAesKey:n.aeskey,FileNo:n[a(650)+"rl"],Wxid:this.wxid}});t({imageType:r,imageData:i[a(681)].Image})}catch(e){t(e)}})}async[_0x22fefc(564)+_0x22fefc(476)](e,t,a){var n=_0x22fefc,t=(await xmlToJson(t)).msg[n(658)].$;return(await _0x50eea2.post({url:n(373)+n(509),data:{Bufid:t[n(611)+"d"],FromUserName:a,Length:Number(t[n(621)]),MsgId:e,Wxid:this[n(302)]}}))[n(681)].data[n(327)]}async[_0x22fefc(564)+"Video"](e,t,a){var n=_0x22fefc,i={byaHG:function(e,t){return e(t)},FnoZY:function(e,t){return e(t)}},t=(await i[n(617)](xmlToJson,t))[n(419)][n(561)].$;return(await _0x50eea2[n(389)]({url:n(373)+"nloadVideo",data:{CompressType:0,DataLen:Number(t[n(621)]),MsgId:e,Section:{DataLen:i.FnoZY(Number,t.playlength),StartPos:0},ToWxid:a,Wxid:this.wxid}})).Data[n(502)][n(327)]}async[_0x22fefc(564)+_0x22fefc(600)](e,t){var a=_0x22fefc,n={jUcsY:function(e,t){return e(t)}},e=await n[a(337)](xmlToJson,e),i=e[a(419)][a(648)][a(449)];return(await _0x50eea2[a(389)]({url:"/Tools/Dow"+a(349),data:{AppID:e.msg[a(648)].$.appid,AttachId:i[a(301)],DataLen:n[a(337)](Number,i[a(444)]),Section:{DataLen:0,StartPos:0},UserName:t,Wxid:this.wxid}}))[a(681)][a(502)][a(327)]}async[_0x22fefc(564)+"MiniProgra"+_0x22fefc(479)](e,t){var a=_0x22fefc,e=(await xmlToJson(e))[a(419)][a(648)][a(449)];return(await _0x50eea2.post({url:a(287)+a(443)+a(579),data:{FileAesKey:e.aeskey,FileNo:e[a(555)+"rl"],Wxid:this[a(302)]}}))[a(681)][a(285)]}async[_0x22fefc(564)+_0x22fefc(615)+"b"](e,t){var a=_0x22fefc,e=(await{HmkhQ:function(e,t){return e(t)}}[a(499)](xmlToJson,e))[a(419)][a(648)][a(449)];return(await _0x50eea2[a(389)]({url:a(287)+a(443)+a(579),data:{FileAesKey:e[a(496)],FileNo:e[a(644)+"l"],Wxid:this[a(302)]}}))[a(681)][a(285)]}async["sendContac"+_0x22fefc(567)+"ge"](e,t){const a=_0x22fefc,n=function(e){return e()};await _0x50eea2[a(389)]({url:a(602)+"Card",data:{ToWxid:e,CardWxId:t.getUsername(),CardNickName:t[a(396)+"e"](),CardAlias:t[a(588)](),Wxid:this[a(302)]}});return(new Response).setMsgid(n(_0xa9d577))[a(329)+a(619)]({clientmsgid:_0xa9d577(),newclientmsgid:n(_0xa9d577),createtime:(new Date).getTime()})}async[_0x22fefc(279)](){var e=_0x22fefc;return await _0x50eea2[e(369)]({url:e(477)+e(620)+this[e(302)],data:{}}),(new Response)[e(446)](_0xa9d577()).setMessagerevokeinfo({clientmsgid:_0xa9d577(),newclientmsgid:{kiZCq:function(e){return e()}}[e(685)](_0xa9d577),createtime:(new Date)[e(674)]()})}async[_0x22fefc(374)+_0x22fefc(579)](e,t,a){var n=_0x22fefc;return _0x50eea2[n(389)]({url:n(441)+"e",data:{ClientMsgId:t,CreateTime:0,NewMsgId:a,ToUserName:e,Wxid:this[n(302)]}})}async[_0x22fefc(356)+_0x22fefc(571)](e,t){var a=_0x22fefc;return(await _0x50eea2[a(389)]({url:a(677)+a(271)+"m",data:{UserList:e,Wxid:this[a(302)]}}))[a(681)][a(581)+"me"][a(582)]}async["inviteChat"+_0x22fefc(409)+"s"](e,t){var a=_0x22fefc;await _0x50eea2.post({url:a(318)+a(544)+a(242),data:{ChatRoomName:e,ToWxids:t,Wxid:this[a(302)]}})}async["deleteChat"+_0x22fefc(608)](e,t){var a=_0x22fefc;await _0x50eea2.post({url:a(278)+"ChatRoomMe"+a(242),data:{ChatRoomName:e,ToWxids:t,Wxid:this[a(302)]}})}async[_0x22fefc(597)+_0x22fefc(440)](n){const i={nJDwK:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{e(await _0x50eea2[a(389)]({url:a(433)+a(393),data:{QID:n,Wxid:this[a(302)]}}))}catch(e){i.nJDwK(t,e)}})}async[_0x22fefc(275)+_0x22fefc(383)](e,t){var a=_0x22fefc;await _0x50eea2.post({url:"/Group/Set"+a(552)+"me",data:{Content:t,QID:e,Wxid:this[a(302)]}})}async["getChatRoo"+_0x22fefc(645)+_0x22fefc(277)](e){var t=_0x22fefc;await _0x50eea2[t(389)]({url:"/Group/Get"+t(370)+"foDetail",data:{QID:e,Wxid:this[t(302)]}})}async[_0x22fefc(275)+_0x22fefc(645)+_0x22fefc(277)](e,t){var a=_0x22fefc;await _0x50eea2[a(389)]({url:"/Group/Set"+a(637)+a(269),data:{Content:t,QID:e,Wxid:this[a(302)]}})}async[_0x22fefc(535)](e,t,a,n){var i=_0x22fefc;await _0x50eea2[i(389)]({url:i(294)+i(493),data:{V1:a,V2:t,Wxid:this[i(302)],Scene:n}})}async[_0x22fefc(363)+"st"](){const c={vBoiR:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{var n=await _0x50eea2[a(389)]({url:a(367)+"List?wxid="+this[a(302)],data:{}}),i=[];if(n[a(681)][a(474)+a(274)])for(const r of n[a(681)][a(474)+a(274)]){var s=(new Label)[a(254)](r[a(395)]).setName(r[a(415)]);i[a(323)](s)}c[a(320)](e,i)}catch(e){}})}async[_0x22fefc(388)](e){var t=_0x22fefc;return await _0x50eea2[t(389)]({url:t(244),data:{LabelName:e,wxid:this[t(302)]}})}async[_0x22fefc(605)+"l"](i){const s={gZHZI:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d;try{var n=await _0x50eea2[a(389)]({url:a(508)+a(687),data:{LabelID:s[a(510)](String,i),Wxid:this[a(302)]}});s[a(510)](e,n)}catch(e){}})}async[_0x22fefc(553)+_0x22fefc(500)](s,r){const c={jkeJr:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x395d,n=r[a(375)](e=>!isNaN(e));try{var i=await _0x50eea2[a(389)]({url:a(629)+"ateList",data:{LabelID:n[a(472)](",")||"",ToWxids:s,wxid:this[a(302)]}});c.jkeJr(e,i)}catch(e){}})}}export{Api};