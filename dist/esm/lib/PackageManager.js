const _0x2d2cd5=_0x6b00;function _0x6b00(n,r){const t=_0x51aa();return(_0x6b00=function(n,r){return n-=500,t[n]})(n,r)}!function(){for(var n=_0x6b00,r=_0x51aa();;)try{if(369211==-parseInt(n(542))+parseInt(n(541))/2*(parseInt(n(540))/3)+-parseInt(n(506))/4+-parseInt(n(523))/5+-parseInt(n(537))/6+-parseInt(n(502))/7+parseInt(n(534))/8)break;r.push(r.shift())}catch(n){r.push(r.shift())}}();import{exec}from"child_process";import _0x3194e5 from"net";import{promisify}from"util";const execAsync=promisify(exec);class PackageManager{["platform"];[_0x2d2cd5(543)+"zed"]=!1;constructor(){this.platform=process.platform}async[_0x2d2cd5(535)](){var n=_0x2d2cd5,r={YYvVp:n(538)+n(510)};if(!this[n(543)+n(536)])try{await this[n(515)+n(529)](),await this["checkBinaryServiceRe"+n(544)](),this[n(543)+n(536)]=!0,console[n(525)](r[n(517)])}catch(n){throw n}}["checkBinaryServiceRe"+_0x2d2cd5(544)](){const o=_0x2d2cd5,s={LrCfw:function(n,r){return n(r)},eFvDw:function(n,r){return n(r)},llnJc:function(n,r){return n(r)},xivcm:function(n){return n()},wOhix:o(533)};return new Promise((r,t)=>{const e=o,c={SbgcD:function(n,r){var t=_0x6b00;return s[t(521)](n,r)},gtdUy:function(n){return s.xivcm(n)}},n=s[e(507)],i=new _0x3194e5[e(524)],a=setTimeout(()=>{var n=e;i[n(511)](),t(new Error("连接二进制服务超时，"+n(518)+"动。"))},5e3);i[e(513)](8059,n,()=>{var n=e;c[n(500)](clearTimeout,a),i[n(519)](),c[n(516)](r)}),i.on(e(528),n=>{var r=e;s.LrCfw(clearTimeout,a),s[r(501)](t,new Error(r(522)+r(518)+"动。"))})})}async["checkRedisRunning"](){var r=_0x2d2cd5,t={ciALf:function(n,r){return n===r},DgSWn:"win32",fmOdz:function(n,r){return n(r)},wJrOn:r(530)+r(509)+r(532),xiKfy:function(n,r){return n(r)},IfHcb:r(530)+'n | grep "'+r(504),znVBK:r(539)+r(512)+r(531)};try{t[r(545)](this.platform,t[r(520)])?await t[r(526)](execAsync,t[r(505)]):await t[r(527)](execAsync,t[r(514)])}catch(n){throw new Error(t[r(503)])}}[_0x2d2cd5(508)](){var n=_0x2d2cd5;return this[n(543)+n(536)]}}function _0x51aa(){const n=["isReady","n | findst","就绪✅ ","destroy","动，请先启动 Red","connect","IfHcb","checkRedis","gtdUy","YYvVp","请确认二进制文件已启","end","DgSWn","llnJc","连接二进制服务失败,","2683980BZNYHg","Socket","log","fmOdz","xiKfy","error","Running","netstat -a","is 服务",'r "6379"',"127.0.0.1","12890544pAAaWh","initialize","zed","3750558UmTFmd","Padlink环境已","Redis 服务未启","3sTfAfQ","963098OZnNUk","335978RTMUWj","isInitiali","ady","ciALf","SbgcD","eFvDw","1574811FjurKT","znVBK",'6379"',"wJrOn","3264eplKcu","wOhix"];return(_0x51aa=function(){return n})()}export{PackageManager};