!function(){for(var e=_0x53ca,a=_0x4310();;)try{if(747145==-parseInt(e(420))*(parseInt(e(424))/2)+parseInt(e(425))/3+parseInt(e(422))/4+parseInt(e(435))/5*(-parseInt(e(410))/6)+parseInt(e(436))/7+parseInt(e(399))/8*(parseInt(e(411))/9)+-parseInt(e(412))/10)break;a.push(a.shift())}catch(e){a.push(a.shift())}}();import*as _0x188f1a from"wechaty-puppet";import{log}from"wechaty-puppet";import{LOGPRE}from"./message-parser.js";function _0x4310(){const e=["20JLwdMa","622643vnkSIB","type","720nsDjAR","Attach","text","appMessage","types"," , ","GroupNote","Video","Location","BhSNX","sage attac","13158GeKVZB","42471BRnTpV","16863720bUcBcP","Payload","stringify","Text","Unknown","Attachment","areLocatio","Message","4zPYqEN","mApp","5266392ZEmnlv","rred while","63224ZUwOMU","2215440uBHOEC","title","stack","Error occu"," parse mes","Url","ChatHistor","filename","MiniProgra","content"];return(_0x4310=function(){return e})()}function _0x53ca(e,a){const s=_0x4310();return(_0x53ca=function(e,a){return e-=399,s[e]})(e,a)}import{AppMessageType,parseAppmsgMessagePayload}from"../../messages/message-appmsg.js";const appMsgParser=async(a,e,s)=>{var p=_0x53ca;if(!{BhSNX:function(e,a){return e!==a}}[p(408)](e[p(437)],_0x188f1a[p(403)][p(419)][p(417)]))try{var r=await parseAppmsgMessagePayload(a[p(434)]);switch((s[p(402)+p(413)]=r)[p(437)]){case AppMessageType[p(415)]:e[p(437)]=_0x188f1a.types[p(419)][p(415)],e[p(401)]=r.title;break;case AppMessageType.Audio:e[p(437)]=_0x188f1a[p(403)].Message[p(430)];break;case AppMessageType[p(406)]:e.type=_0x188f1a[p(403)][p(419)].Url;break;case AppMessageType[p(430)]:e[p(437)]=_0x188f1a[p(403)][p(419)][p(430)];break;case AppMessageType[p(400)]:e[p(437)]=_0x188f1a[p(403)][p(419)][p(417)],e[p(432)]=r[p(426)];break;case AppMessageType.ChatHistory:e[p(437)]=_0x188f1a[p(403)][p(419)][p(431)+"y"];break;case AppMessageType.MiniProgram:case AppMessageType[p(433)+p(421)]:e[p(437)]=_0x188f1a[p(403)][p(419)][p(433)+"m"];break;case AppMessageType.RedEnvelopes:e[p(437)]=_0x188f1a[p(403)][p(419)].RedEnvelope;break;case AppMessageType.Transfers:e[p(437)]=_0x188f1a[p(403)][p(419)].Transfer;break;case AppMessageType["RealtimeSh"+p(418)+"n"]:e[p(437)]=_0x188f1a[p(403)].Message[p(407)];break;case AppMessageType.GroupNote:e[p(437)]=_0x188f1a.types[p(419)][p(405)],e[p(401)]=r[p(426)];break;default:e[p(437)]=_0x188f1a.types[p(419)][p(416)]}}catch(e){log.warn(LOGPRE,p(428)+p(423)+p(429)+p(409)+"hment: "+JSON[p(414)](a)+p(404)+e[p(427)])}return e};export{appMsgParser};