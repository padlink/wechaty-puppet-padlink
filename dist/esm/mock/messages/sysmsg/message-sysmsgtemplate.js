function _0x2c2f(){const t=["content_te","link_profi","10905zilDqZ","aaHEH","filter","map","ZWViQ","type","436632mFdJey","DIErF","username","templateLi","isArray","169043ShQnPV","mplate","1722mvUcDq","matchAll","179888dZhAjd","memberlist","name","link_list","link","2594067SKOLzy","template","896136FtJvEE","nickname","tfqxz","link_revok","1747816yMOdaI","nkList"];return(_0x2c2f=function(){return t})()}!function(){for(var t=_0xa139,e=_0x2c2f();;)try{if(321532==+parseInt(t(484))+parseInt(t(458))/2+parseInt(t(465))/3+-parseInt(t(469))/4+-parseInt(t(473))/5*(-parseInt(t(456))/6)+-parseInt(t(463))/7+-parseInt(t(479))/8)break;e.push(e.shift())}catch(t){e.push(e.shift())}}();import{parseTextWithRegexList}from"../../utils/regex.js";function toList(t){return Array[_0xa139(483)](t)?t:[t]}async function parseSysmsgTemplateMessagePayload(t){const s=_0xa139,i={tfqxz:function(t,e){return t===e},ZWViQ:s(472)+"le",aaHEH:function(t,e){return t(e)},lUHjx:s(468)+"e",WZWXu:function(t,e){return t(e)}},e=i.WZWXu(toList,t[s(471)+s(485)][s(461)][s(462)]),r=e[s(476)](t=>{const n=s,e=t.$[n(478)];let r;var a;return i[n(467)](e,i[n(477)])?(a=i.aaHEH(toList,t[n(459)].member),r=a[n(476)](t=>{var e=n;return{nickName:t[e(466)],userName:t[e(481)]}})):i[n(467)](t.$[n(478)],i.lUHjx)&&(r={title:t.title,userNameList:i[n(474)](toList,t.usernamelist[n(481)])}),{name:t.$[n(460)],payload:r,type:e}}),n=t[s(471)+s(485)][s(464)],a=[...n[s(457)](/\$(.+?)\$/g)],u=a[s(476)](t=>{const e=s,n=t[1];return r[e(475)](t=>t[e(460)]===n)[0]});return{template:n,templateLinkList:u}}function _0xa139(t,e){const n=_0x2c2f();return(_0xa139=function(t,e){return t-=456,n[t]})(t,e)}async function parseSysmsgTemplate(n,t,r){const a=_0xa139,s={DIErF:function(t,e,n){return t(e,n)},VhCOF:function(t,e,n,r){return t(e,n,r)}};return s.VhCOF(parseTextWithRegexList,n[a(464)],t,async t=>{var e=a;return s[e(480)](r,n[e(482)+e(470)],t)})}function createSysmsgTemplateRunner(t,e,n){return async()=>parseSysmsgTemplate(t,e,n)}export{parseSysmsgTemplateMessagePayload,parseSysmsgTemplate,createSysmsgTemplateRunner};