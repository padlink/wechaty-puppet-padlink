!function(){for(var e=_0x1691,s=_0x5544();;)try{if(316712==+parseInt(e(488))*(-parseInt(e(471))/2)+parseInt(e(481))/3+-parseInt(e(480))/4*(-parseInt(e(473))/5)+-parseInt(e(484))/6*(-parseInt(e(468))/7)+-parseInt(e(491))/8*(parseInt(e(472))/9)+-parseInt(e(476))/10+parseInt(e(477))/11)break;s.push(s.shift())}catch(e){s.push(s.shift())}}();import{parseTextWithRegexList}from"../../utils/regex.js";import{executeRunners}from"../../utils/runner.js";function _0x5544(){const e=["You","nFvyV","372JnUClj","796620McozAJ","tLtiC","replacemsg","833886RRIFSZ","ssageId","length","load","26OZcaRM","newmsgid","messagePay","272psXgnw","WHvVt","originalMe","messageSea","rch","7VSpeJU","session","roomMember","39470erOncb","140382JPbadN","8530NeaODF","Search","operatorNi","4758120kLuTEX","14000657ZGPlCE"];return(_0x5544=function(){return e})()}import{isIMRoomId,isRoomId}from"../../utils/is-type.js";const YOU_REVOKE_REGEX_LIST=[/你撤回了一条消息/,/You recalled a message/],OTHER_REVOKE_REGEX_LIST=[/"(.+)" 撤回了一条消息/,/"(.+)" has recalled a message./];function _0x1691(e,s){const r=_0x5544();return(_0x1691=function(e,s){return e-=467,r[e]})(e,s)}async function parseRevokeMsgMessagePayload(e){const t=_0x1691,a={tLtiC:"Other",nFvyV:function(e,s){return e(s)}};let n;var s=await a[t(479)](executeRunners,[async()=>parseTextWithRegexList(e.replacemsg,YOU_REVOKE_REGEX_LIST,async()=>t(478)),async()=>parseTextWithRegexList(e[t(483)],OTHER_REVOKE_REGEX_LIST,async(e,s)=>{var r=t;return n=s[1],a[r(482)]})]);return{content:e[t(483)],operatorNickName:n,originalMessageId:e[t(489)],session:e[t(469)],type:s}}async function getRevokeOriginalMessage(e,s){var r=_0x1691,s=await e[r(494)+r(467)]({id:s[r(493)+r(485)]});return s[r(486)]?e[r(490)+r(487)](s[0]):null}async function getRevokeOperatorIdForRoomMessage(e,s){var r=_0x1691,t={WHvVt:function(e,s){return e(s)}};if(t[r(492)](isRoomId,s[r(469)])||t[r(492)](isIMRoomId,s[r(469)])){t=await e[r(470)+r(474)](s[r(469)],s[r(475)+"ckName"]);if(t[r(486)])return t[0]}return null}export{parseRevokeMsgMessagePayload,getRevokeOriginalMessage,getRevokeOperatorIdForRoomMessage};