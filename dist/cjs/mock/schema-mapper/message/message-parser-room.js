"use strict";const _0x6ab5ff=_0x5d4f;function _0x5d4f(e,t){const n=_0x4ab6();return(_0x5d4f=function(e,t){return e-=433,n[e]})(e,t)}function _0x4ab6(){const e=["roomParser","isRoomId","ZGgGp","QmdYD","slice","talkerId","nt@all","content","731087hfZMos","aferY","9SAYlwr","isIMRoomId","puppet","fromuserna","2151247NkHGBS","901028HoRlPA","3990465BDfuKU","ist","566163GNRLKy","4GsOdKl","text","3759714lvlEoi","PJdTR","3989744zeMNZx","__esModule","WLsvz","atList","age","tousername","announceme","roomId","indexOf","WkuYF","roomPayloa","../../util"];return(_0x4ab6=function(){return e})()}!function(){for(var e=_0x5d4f,t=_0x4ab6();;)try{if(489217==+parseInt(e(460))+-parseInt(e(467))/2+-parseInt(e(435))/3*(-parseInt(e(436))/4)+-parseInt(e(433))/5+parseInt(e(438))/6+-parseInt(e(466))/7+-parseInt(e(440))/8*(-parseInt(e(462))/9))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),Object.defineProperty(exports,_0x6ab5ff(441),{value:!0}),exports[_0x6ab5ff(452)]=void 0;const is_type_js_1=require(_0x6ab5ff(451)+"s/is-type.js");async function roomMessageSentByOthers(e,t){var n,r,s=_0x6ab5ff;((0,is_type_js_1[s(453)])(e[s(465)+"me"])||(0,is_type_js_1[s(463)])(e[s(465)+"me"]))&&(t[s(447)]=e.fromusername,n=e[s(459)].indexOf(":\n"),!{ZGgGp:function(e,t){return e!==t}}[s(454)](n,-1)?t[s(457)]=e[s(445)]:(r=e.content[s(456)](0,n),t.talkerId=r,t[s(437)]=e[s(459)][s(456)](n+2)))}async function roomMessageSentBySelf(e,t){var n,r=_0x6ab5ff,s={PJdTR:function(e,t){return e!==t},WkuYF:function(e,t){return e+t}};((0,is_type_js_1.isRoomId)(e[r(445)])||(0,is_type_js_1[r(463)])(e[r(445)]))&&(t[r(447)]=e.tousername,t[r(457)]=e[r(465)+"me"],n=e.content[r(448)](":\n"),s[r(439)](n,-1))&&(t[r(437)]=e[r(459)][r(456)](s[r(449)](n,2)))}const roomParser=async(t,n,r)=>{var s=_0x6ab5ff,o={TkOIv:function(e,t,n){return e(t,n)},WLsvz:function(e,t,n){return e(t,n)},tuAlI:function(e,t){return e===t},aferY:function(e,t){return e===t},QmdYD:s(446)+s(458)};if(await o.TkOIv(roomMessageSentByOthers,t,n),await o[s(442)](roomMessageSentBySelf,t,n),n[s(447)]){r["isRoomMess"+s(444)]=!0;let e;e=o.tuAlI(t[s(443)].length,1)&&o[s(461)](t[s(443)][0],o[s(455)])?(await r[s(464)][s(450)+"d"](n.roomId)).memberIdList:t[s(443)],n["mentionIdL"+s(434)]=e}return n};exports[_0x6ab5ff(452)]=roomParser;