"use strict";const _0x1d8cba=_0x46ba;function _0x32f8(){const e=["content_te","5039172kgqdEG","2651835uEIgQp","3613272fovjBx","usernameli","mplate","nickname","createSysm","isArray","5815056ZxLmph","nkList","30ShLuAy","oad","sgTemplate","erty","defineProp","parseSysms","IcYXg","gTemplate","filter","name","link_profi","template","2020908DnArsh","../../util","28259FvOyCc","28XCFhEl","18538220ARSTkm","essagePayl","matchAll","type","username","gTemplateM","12QoQtVz","uRMqi","title","map","erZbk"];return(_0x32f8=function(){return e})()}!function(){for(var e=_0x46ba,t=_0x32f8();;)try{if(982778==+parseInt(e(439))*(-parseInt(e(425))/2)+parseInt(e(417))/3+-parseInt(e(409))/4*(parseInt(e(416))/5)+parseInt(e(437))/6*(-parseInt(e(440))/7)+parseInt(e(423))/8+parseInt(e(415))/9+parseInt(e(441))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),Object[_0x1d8cba(429)+_0x1d8cba(428)](exports,"__esModule",{value:!0}),exports[_0x1d8cba(421)+_0x1d8cba(427)+"Runner"]=exports.parseSysmsgTemplate=exports[_0x1d8cba(430)+_0x1d8cba(408)+_0x1d8cba(442)+_0x1d8cba(426)]=void 0;const regex_js_1=require(_0x1d8cba(438)+"s/regex.js");function toList(e){var t=_0x1d8cba;return Array[t(422)](e)?e:[e]}async function parseSysmsgTemplateMessagePayload(e){const n=_0x1d8cba,c={uRMqi:function(e,t){return e===t},kedPe:"link_revoke",zVurF:function(e,t){return e(t)},IcYXg:function(e,t){return e(t)}},t=c[n(431)](toList,e[n(414)+"mplate"].link_list.link),r=t.map(e=>{const a=n,t=e.$.type;let r;var s;return c.uRMqi(t,a(435)+"le")?(s=toList(e.memberlist.member),r=s[a(412)](e=>{var t=a;return{nickName:e[t(420)],userName:e[t(407)]}})):c[a(410)](e.$[a(406)],c.kedPe)&&(r={title:e[a(411)],userNameList:c.zVurF(toList,e[a(418)+"st"][a(407)])}),{name:e.$[a(434)],payload:r,type:t}}),a=e[n(414)+n(419)].template,s=[...a[n(405)](/\$(.+?)\$/g)],p=s[n(412)](e=>{const t=n,a=e[1];return r[t(433)](e=>e[t(434)]===a)[0]});return{template:a,templateLinkList:p}}async function parseSysmsgTemplate(a,e,r){const s=_0x1d8cba,n={erZbk:function(e,t,a){return e(t,a)}};return(0,regex_js_1.parseTextWithRegexList)(a[s(436)],e,async e=>{var t=s;return n[t(413)](r,a["templateLi"+t(424)],e)})}function _0x46ba(e,t){const a=_0x32f8();return(_0x46ba=function(e,t){return e-=405,a[e]})(e,t)}function createSysmsgTemplateRunner(e,t,a){return async()=>parseSysmsgTemplate(e,t,a)}exports["parseSysms"+_0x1d8cba(408)+_0x1d8cba(442)+"oad"]=parseSysmsgTemplateMessagePayload,exports[_0x1d8cba(430)+_0x1d8cba(432)]=parseSysmsgTemplate,exports["createSysm"+_0x1d8cba(427)+"Runner"]=createSysmsgTemplateRunner;