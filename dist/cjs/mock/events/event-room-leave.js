"use strict";const _0x5bb62b=_0x3ea6;function _0xf0ed(){const e=["25179aQCDJY","nce","plateMessa","54raBthe","some","defineProp","dcald","delete","payload","WechatMess","giesc","content","essage-sys","e.js","msgtemplat","map","fromuserna","unner.js","1324525XnvJdx","6910260VtsEcS","../utils/i","s/sysmsg/m","ageType","916770tCxXdx","type","gSysmsgTem","2DVpLCS","filter","Sys","createtime","get","userName","njpGo","176263WkGzDN","removeeIdL","../message","rId","erty","parseSysms","ners","forEach","roomMember","LeaveDebou","../utils/r","gePayload","default","19444513QYeMAF","18biDZDi","currentUse","698913tFAvfj","s/message-","Search","12SXJbdr","removeRoom","ist","match","sysmsg.js","set","riUMc","2480ouoSan","gTemplate"];return(_0xf0ed=function(){return e})()}!function(){for(var e=_0x3ea6,r=_0xf0ed();;)try{if(950471==+parseInt(e(504))*(parseInt(e(497))/2)+-parseInt(e(520))/3*(parseInt(e(523))/4)+parseInt(e(489))/5*(parseInt(e(518))/6)+-parseInt(e(532))/7*(parseInt(e(530))/8)+parseInt(e(535))/9*(-parseInt(e(494))/10)+parseInt(e(517))/11+parseInt(e(490))/12)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(),Object[_0x5bb62b(537)+_0x5bb62b(508)](exports,"__esModule",{value:!0}),exports.isRoomLeaveDebouncing=exports[_0x5bb62b(524)+_0x5bb62b(513)+_0x5bb62b(533)]=void 0;const is_type_js_1=require(_0x5bb62b(491)+"s-type.js"),message_sysmsg_js_1=require(_0x5bb62b(506)+_0x5bb62b(521)+_0x5bb62b(527)),message_sysmsgtemplate_js_1=(require(_0x5bb62b(514)+"egex.js"),require(_0x5bb62b(506)+_0x5bb62b(492)+_0x5bb62b(483)+_0x5bb62b(485)+_0x5bb62b(484))),types_js_1=require("../types.js"),runner_js_1=require(_0x5bb62b(514)+_0x5bb62b(488)),YOU_REMOVE_OTHER_REGEX_LIST=[/^(你)将"(.+)"移出了群聊/,/^(You) removed "(.+)" from the group chat/],OTHER_REMOVE_YOU_REGEX_LIST=[/^(你)被"([^"]+?)"移出群聊/,/^(You) were removed from the group chat by "([^"]+)"/],roomLeaveDebounceMap=new Map,DEBOUNCE_TIMEOUT=36e5;function roomLeaveDebounceKey(e,r){return e+":"+r}function _0x3ea6(e,r){const s=_0xf0ed();return(_0x3ea6=function(e,r){return e-=478,s[e]})(e,r)}function roomLeaveAddDebounce(e,r){const s=_0x5bb62b,o={njpGo:function(e,r,s){return e(r,s)}},t=o[s(503)](roomLeaveDebounceKey,e,r),n=roomLeaveDebounceMap[s(501)](t);n&&clearTimeout(n);e=o.njpGo(setTimeout,()=>{var e=s;roomLeaveDebounceMap[e(478)](t)},DEBOUNCE_TIMEOUT);roomLeaveDebounceMap[s(528)](t,e)}function removeRoomLeaveDebounce(e,r){var s=_0x5bb62b,e=roomLeaveDebounceKey(e,r);roomLeaveDebounceMap[s(478)](e)}function isRoomLeaveDebouncing(e,r){var s=_0x5bb62b,o={giesc:function(e,r,s){return e(r,s)},KNmvT:function(e,r){return e!==r}},e=o[s(481)](roomLeaveDebounceKey,e,r);return o.KNmvT(roomLeaveDebounceMap[s(501)](e),void 0)}exports[_0x5bb62b(524)+_0x5bb62b(513)+_0x5bb62b(533)]=removeRoomLeaveDebounce,exports.isRoomLeaveDebouncing=isRoomLeaveDebouncing,exports[_0x5bb62b(516)]=async(n,a)=>{const o=_0x5bb62b,t={riUMc:function(e,r){return e!==r},dcald:function(e,r,s){return e(r,s)}},b=a[o(487)+"me"];var e;return(0,is_type_js_1.isRoomId)(b)?((e=await(0,runner_js_1["executeRun"+o(510)])([async()=>{const t=o,e=await(0,message_sysmsg_js_1[t(509)+t(496)+t(534)+t(515)])(a);return e?(0,message_sysmsgtemplate_js_1[t(509)+t(531)])(e,YOU_REMOVE_OTHER_REGEX_LIST,async e=>{const r=t,s=e[0][r(479)],o=s[r(486)](e=>e[r(502)])[r(498)](e=>!!e);return{removeeIdList:o,removerId:n[r(519)+"rId"],roomId:b,timestamp:a[r(500)]}}):null},async()=>{const r=o;if(a[r(495)]!==types_js_1["WechatMess"+r(493)].Sys)return null;let s=null;var e;return OTHER_REMOVE_YOU_REGEX_LIST[r(536)](e=>!!(s=a[r(482)][r(526)](e))),s?(e=s[2],e=(await n[r(512)+"Search"](b,e))[0],{removeeIdList:[n[r(519)+r(507)]],removerId:e,roomId:b,timestamp:a[r(500)]}):null},async()=>{const r=o;if(t[r(529)](a[r(495)],types_js_1[r(480)+r(493)][r(499)]))return null;let s=null;var e;return YOU_REMOVE_OTHER_REGEX_LIST[r(536)](e=>!!(s=a[r(482)][r(526)](e))),s?(e=s[2],{removeeIdList:[(await n["roomMember"+r(522)](b,e))[0]],removerId:n["currentUse"+r(507)],roomId:b,timestamp:a.createtime}):null}]))&&e[o(505)+o(525)][o(511)](e=>{var r=o;t[r(538)](roomLeaveAddDebounce,b,e)}),e):null};