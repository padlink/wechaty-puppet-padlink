"use strict";const _0x502c55=_0x1028;function _0x1028(e,t){const a=_0x5732();return(_0x1028=function(e,t){return e-=292,a[e]})(e,t)}!function(){for(var e=_0x1028,t=_0x5732();;)try{if(976274==+parseInt(e(766))*(-parseInt(e(443))/2)+parseInt(e(679))/3+-parseInt(e(405))/4*(parseInt(e(595))/5)+-parseInt(e(513))/6+-parseInt(e(769))/7*(-parseInt(e(617))/8)+-parseInt(e(431))/9+parseInt(e(675))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var __importDefault=this&&this[_0x502c55(714)+"fault"]||function(e){var t=_0x502c55;return e&&e[t(521)]?e:{default:e}};function _0x5732(){const e=["wx_message","3d22d51b80","ey=","ype=3#wech","ogin","proxy","nloadFile?","mqtaw","vidAQMyHYi","getLabelLi","tCardMessa","default","/friend/De","m?key=","get","332322d343","now","atuserlist","79izHT2VeB","LoginQrCod","group/GetC","Code?key=","4dfcfca645","8b32c04243","XGLtL","getMessage","img","mberDetail","45408520rcCJGm",".txt","parse","rPPuZ","944106kgjFin","Video","nJvZNQCfoF","/group/Set","044b304902","aeskey","jpg","setType","OjpV/n9TRf","https://mp","新建文本文档 (2)","callback","pmeVF","0424373766","eEmoji","105138159","deByFirst","2|1|4|0|3","SendAppMes","ZTgfkeB","747","encryptUse","9da1c45bee","7363061356","setAvatar","sendVoiceM","XZIIi","getTime","/png;base6","202032f591","3637640204","ContactLab","tChatroom?","435372d346","setMessage","__importDe","45df3d1bd8","inviter_us","remark","AttachThum","setMsgcont","failed aft","tXfox","ChatroomQr","utf-8","/Tools/Upl","deleteChat","getContact","6135646335","ClLTDHZQ6R","/Label/Del","poll_heart","Status","setAtList","descriptio","appattach","jqImB","wMessage?k","s/xml-to-j","801f4f18eb","age?key=","c9eea8140f","endVideo?k","数据出错","deNew","sageRespon","endImageNe","tFriendRel","/label/Get","stringify","65264","setUsernam","xmlToJson","2d30666231","quitChatRo","revokeMess","wxid","0050201000","REuWb","GetLoginSt","string","sage?key=","/message/G","/login/Log","Label","removeLabe","/Tools/Cdn","101514HIzlPd","2d34633235","46cd881fa9","126BKGzRe","getFullYea","me?key=","184","stop","106112608","name","_client","/group/Sca","upgrade&am","2d38666462","4c4d3700","_cacheMgr","tact","cdnattachu","etMsgVoice","rName","message","getDate","RoomMember","hatRoomInf","inviteChat","Event","atus","2d34303430","eLink","ation?key=","chatroom_n","at_redirec","mticket","lContact?k","mThumb","user_name","140f3e_1","/message/R","revokeinfo","0466a8b32c","20100044b3","mMembers","passname","3239663363","2d34633965","0270823229","p;upgradet","labelID","evokeMsg?k","2d38373533","b249920203","bfCYx","nouncement","Attach","10300","appid","_img_url","463352d636","ws/GetSync","wxid_yqw0i","sagewenjia","AntispamTi","mContact","046690b731","to_user_na","kWGIb","getAllChat","setCreatet","port","owner_user","ame","jUyvZ","init","Code","Polling","ime","2f58b70204","yQwah","Api","chatRoomOw","state","rmJUP","loginErrMs","icket","sendMessag","tRoomMembe","978020466a","204cfb2499","/friend/Ge","70f5fd6346","KGXWU","toString","endCDNFile","getMonth","act","getUsernam","ChatroomMe","chatroom_m","iDDHq","Contact","76f997e791","2d63643537","logout","puppet_pad","mvqOq","/login/Get","getMinutes","deleteCont","rrcmoyd12_","roomMember","qr_arr","appmsg","filter","mber","getLoginCo","defineProp","RVRoe","setName","iteChatroo","chatRoomNa","sendImageM","499088XpNktm","from_user_","d1f21482a9","/group/Qui","+nLFWQcFHc","Out?key=","data:image","effective_","member_dat","fyRemark?k","123213","3057020100","ssage","/message/S","ixUju","NickName","../../map/","700_4dfcfc","AOsda","labelName","getNicknam","getAlias","contactLis","GetChatRoo","o?key=","poll_messa","17294859cmFGss","updateSelf","actRemark","a645d1f214","setMsgid","mAnnouncem","HeartBeat ","getMyConta","setContent","bURmKeTyO6","fiRcU","0490201000","28wtPYrW","Natxj","GbsFkl8KMI","0514000502","onLoginSuc","RaFyQ","mbers","/user/SetS","send_text","chatroomMe","forwardMes","smallHeadI","1424e97802","cc2100250f","setSignatu","LoginStatu","r?key=","setFromuse","essage","userInfoEx","45aa6d4173","ateChatRoo","createChat","test","5efa5257be","data","sex","0100040500","../index.j","mmaxcount","/user/GetM","buffer","elList?key","05147db6b1","mJgCu","key=","endTextMes","kVLao","TBQJG","?key=","voicemsg","7009346818","msg","setDisplay","yQrCode?ke","/user/Modi","ignature?k","jsonToXml","Msg?key=","nmg7opHS3F","erty","nnSte","getSecondL","view","TinXj","push","cess","o8SkgbwX5o","userInfo","osmqS","setTousern","Data","100","close","totallen","rname","embers","cuid","videomsg","selfContac","2702874btTmmf","OELGn","sage","UYDj/Zspdy","184 B","账号在线状态良好！","/group/Sen","errpage?ap","__esModule","sendVideoM","getChatRoo","endAppMess","content","MbhOT","time","setChatroo","MAEEf","mgUrl","QRCode","QGUZF","dDelDelCha","tsLZW","/label/Mod","setContact","elation","url","endVoice?k","BRnSt","addContact","lqprZ","QrCodeUrl","hareCardMe","ick_name","iAxPO","setChatRoo","haRQj","eNew?key=","_name","str","split","getChatCon","6266616431","msg_id","mowneruser","82a9c9eea8","labelPairL","01000204cf","jUYhq","EIr056iMnf","mmemberLis","endCdnDown","DownloadIm","Response","0343032396","updateCont","/Tools/Dow","fBDOk","mMerbers?k","oup?key=","zjGjQ","txt","xHPzx","hCOpH","ent","ge_timer","/group/Get","token","host:8848/","nickName","padStart","Image","ws://local","rifyUser?k","setNicknam","ckLoginSta","setRemark","a5c0085ef9","2764_17223","olling.js","Signature","getHours","../utils/p","40XndFAQ","3539320204","ggFOpF8kP4","../../util","msg_source","s?key=","dbb0e647bd","small_head","2126fde509","el?key=","hTHPO","onQrCodeEv","ember_list","checkLogin","attachid","onSync","2d62633232","signature","uEIxX","ner","ChatRoomMe","/label/Add","405432LpNUzn","0424373630","userName","6336336376","poll","WPUjR","4020405140","nOBSQ","nick_name","jVgk1sYTPs","setId","2283821063","e attempts","index.js","msgsource","FTFkB","plus_","er_name","SyyRequest","kJzr34qhhd","setGender","HXkbj","MiniProgra","post","/group/Inv","eFOGX","searchPara","TCmaq","4c505700","setAntispa"];return(_0x5732=function(){return e})()}Object[_0x502c55(399)+_0x502c55(493)](exports,_0x502c55(521),{value:!0}),exports[_0x502c55(362)]=void 0;const index_js_1=require(_0x502c55(471)+"s"),cuid_1=__importDefault(require(_0x502c55(510))),polling_js_1=require(_0x502c55(594)+_0x502c55(591)),ws_1=__importDefault(require("ws")),index_js_2=require(_0x502c55(421)+_0x502c55(630)),cache_manager_js_1=require("../../cache-manager.js"),xml_to_json_js_1=require(_0x502c55(598)+_0x502c55(737)+"son.js");class Api{["_cacheMgr"];[_0x502c55(294)];["token"];[_0x502c55(652)];["uuid"];[_0x502c55(755)];[_0x502c55(690)];["qr_arr"];[_0x502c55(430)+_0x502c55(577)];constructor(e){this._client=e,this.qr_arr=[]}async[_0x502c55(356)](){var e=_0x502c55;this[e(299)]=new cache_manager_js_1.CacheManager(this[e(579)]),await this[e(299)].init()}async["login"](e,t){var a=_0x502c55,s={hCOpH:a(387)+a(633)},t=(this.callback=t,this[a(294)][a(579)][a(552)](s[a(575)])[1]);this[a(579)]=t,await this[a(356)]();try{(await this[a(758)+a(310)]()).Data[a(366)+"g"]==a(518)&&this["getSecondL"+a(651)]()}catch(e){this[a(398)+a(695)]()}}async[_0x502c55(398)+_0x502c55(743)](){var e=_0x502c55;return this[e(652)]&&(this[e(652)].username,this[e(652)][e(326)],this[e(652)].ip,this[e(652)][e(352)]),index_js_1[e(635)][e(640)]({url:e(389)+e(666)+e(549)+this[e(579)],data:{Proxy:Proxy}})}async[_0x502c55(608)+"Status"](){var e=_0x502c55;return index_js_1[e(635)].get({url:"/login/Che"+e(587)+"tus?key="+this[e(579)],data:{}})}async[_0x502c55(758)+_0x502c55(310)](e=5){var t=_0x502c55,a={BRnSt:function(e,t){return e<t},lqprZ:function(e,t){return e==t},kWGIb:t(518),pmeVF:t(437)+t(720)+"er multipl"+t(629)};let s=0;for(;a[t(540)](s,e);){try{var n=await index_js_1[t(635)].get({url:t(389)+t(458)+t(600)+this.token,data:{}});if(a[t(542)](n[t(504)]?.loginErrMsg,a[t(349)]))return n}catch(e){}s++}throw new Error(a[t(691)])}[_0x502c55(398)+"deByFirst"]=async()=>{const n=_0x502c55,i={OELGn:function(e,t){return e!=t},xHPzx:"undefined",MTBul:function(e,t){return t<e},MnZtC:function(e,t){return e==t},mqtaw:function(e,t){return e==t},MbhOT:function(e,t){return e==t},osmqS:"3|4|1|2|0",MsWyM:function(e,t){return e==t},rPPuZ:function(e,t){return e==t},RaFyQ:n(538)};let r=this[n(690)],e=await this[n(398)+"deNew"]();if(i[n(678)](e[n(357)],200)){var t=new URL(e[n(504)][n(543)])[n(643)+"ms"][n(661)](i[n(448)]);this[n(394)].includes(t)||(r["onOneClick"+n(309)]({status:1,imageUrl:t}),this[n(394)][n(498)](t));const c=new polling_js_1[n(358)];let s=null;c[n(621)](3e3,async()=>{const t=n;var e=await this[t(608)+t(731)]();if(!s&&i[t(514)](e[t(504)]?.[t(412)+"time"],i[t(574)])&&i.MTBul(e.Data?.[t(412)+t(527)],230)&&(s=setTimeout(async()=>{var e=t;c[e(773)](),r["onQrCodeEv"+e(576)]({status:5}),await this[e(398)+"deByFirst"]()},1e3*e[t(504)]["effective_"+t(527)])),200==e[t(357)]){if(i.MnZtC(e.Data[t(364)],1)&&r[t(606)+t(576)]({status:2}),i[t(654)](e[t(504)][t(364)],4)&&r["onQrCodeEv"+t(576)]({status:4}),i[t(526)](e[t(504)].state,2)){c.stop(),s&&(clearTimeout(s),s=null),r[t(606)+"ent"]({status:3}),this.wxid=e[t(504)].wxid;try{var a=i[t(502)].split("|");let e=0;for(;;){switch(a[e++]){case"0":this[t(730)]();continue;case"1":await r[t(447)+t(499)](this[t(294)][t(512)+"t"]);continue;case"2":await r[t(610)]({getContactList(){return[]},getMessageList(){return[]}});continue;case"3":this.wx_message();continue;case"4":this._client[t(512)+"t"]=await this[t(438)+"ct"]();continue}break}}catch(e){}}}else i.MsWyM(e[t(357)],-8)})}};async[_0x502c55(495)+_0x502c55(651)](){var t=_0x502c55,a={REuWb:t(696)};try{var s=a[t(757)][t(552)]("|");let e=0;for(;;){switch(s[e++]){case"0":await this[t(690)].onSync({getContactList(){return[]},getMessageList(){return[]}});continue;case"1":this[t(294)][t(512)+"t"]=await this[t(438)+"ct"]();continue;case"2":this.wx_message();continue;case"3":this[t(730)]();continue;case"4":await this[t(690)][t(447)+t(499)](this._client[t(512)+"t"]);continue}break}}catch(e){await this[t(398)+t(695)]()}}async[_0x502c55(647)](){const o=_0x502c55,_={FTFkB:o(723),GAxXs:function(e,t){return e||t},tsLZW:function(e,t){return e(t)},haRQj:function(e,t){return e(t)},nOBSQ:function(e,t,a){return e(t,a)},fiRcU:"open"},e=o(584)+o(580)+o(342)+o(491)+this[o(579)],t=new ws_1[o(658)](e);t.on(_[o(441)],()=>{var e=o;t.send(JSON[e(748)]({type:"ping",timestamp:Date[e(663)]()}))}),t.on(o(304),async e=>{var t=o,e=e[t(375)](_[t(632)]);try{var a=JSON[t(677)](e);if(a){var s,n=a,i=(new index_js_2.Message)[t(460)+t(508)](n[t(406)+"name"][t(551)])[t(503)+t(354)](n.to_user_name.str).setId(n[t(555)])[t(686)](n.msg_type)[t(351)+t(359)](n.create_time),r=/@chatroom$/.test(n.from_user_name.str),c=/@chatroom$/[t(466)](n[t(348)+"me"][t(551)]);let e=[];_.GAxXs(r,c)&&(this[t(299)]?.setRoom(n[t(406)+t(293)][t(551)]||n.to_user_name.str,!0),s=(await(0,xml_to_json_js_1[t(751)])(n[t(599)])).msgsource?.[t(664)]?(await(0,xml_to_json_js_1[t(751)])(n[t(599)]))[t(631)].atuserlist[t(552)](","):[],e=s.filter(e=>""!==e)),i[t(439)](n[t(525)][t(551)])[t(732)](e),this[t(294)].emit("message",[i])}}catch(e){}}),t.on(o(506),()=>{var e=o,t=new Date;t[e(770)+"r"](),_.tsLZW(String,t[e(377)]()+1)[e(582)](2,"0"),_[e(534)](String,t[e(305)]()).padStart(2,"0"),_[e(548)](String,t[e(593)]())[e(582)](2,"0"),_[e(534)](String,t[e(390)]())[e(582)](2,"0"),String(t.getSeconds())[e(582)](2,"0");_[e(624)](setTimeout,this[e(647)],0)}),t.on("error",e=>{})}["poll_heart"](){const e=_0x502c55,t={eFOGX:function(e,t){return e*t},jqImB:function(e,t){return e*t}},a=new polling_js_1.Polling;a[e(621)](t[e(642)](t[e(735)](2.5,60),1e3),async()=>{var t=e;try{await this[t(758)+t(310)]()}catch(e){await this._cacheMgr?.[t(506)](),this._cacheMgr=void 0,this[t(294)].emit("kickout","")}})}async[_0x502c55(451)](e,t,a){var s=_0x502c55;await index_js_1[s(635)][s(640)]({url:"/message/S"+s(479)+s(760)+this[s(579)],data:{MsgItem:[{AtWxIDList:a,ImageContent:"",MsgType:0,TextContent:t,ToUserName:e}]}});return(new index_js_2.Response).setMsgid((0,cuid_1[s(658)])())["setMessage"+s(322)]({clientmsgid:(0,cuid_1[s(658)])(),newclientmsgid:(0,cuid_1[s(658)])(),createtime:(new Date)[s(706)]()})}async[_0x502c55(404)+_0x502c55(461)](e,t,a){var s=_0x502c55;await index_js_1[s(635)][s(640)]({url:s(418)+s(745)+s(736)+s(649)+this[s(579)],data:{MsgItem:[{AtWxIDList:a,ImageContent:t,MsgType:2,TextContent:"",ToUserName:e}]}});return(new index_js_2[s(565)])[s(435)]((0,cuid_1[s(658)])())["setMessage"+s(322)]({clientmsgid:(0,cuid_1.default)(),newclientmsgid:(0,cuid_1[s(658)])(),createtime:(new Date)[s(706)]()})}async[_0x502c55(522)+_0x502c55(461)](e,t,a){var s=_0x502c55;await index_js_1[s(635)][s(640)]({url:s(418)+s(741)+"ey="+this[s(579)],data:{Base64:t,ImageBase64:s(411)+s(707)+"4,"+a,PlayLength:0,ToWxid:e,Wxid:this[s(755)]}});return(new index_js_2[s(565)]).setMsgid((0,cuid_1[s(658)])())[s(713)+s(322)]({clientmsgid:(0,cuid_1.default)(),newclientmsgid:(0,cuid_1[s(658)])(),createtime:(new Date)[s(706)]()})}async["sendFileMe"+_0x502c55(417)](e){var t=_0x502c55;await index_js_1[t(635)][t(640)]({url:t(724)+"oadFile?key="+this[t(579)],data:{Base64:e,Wxid:this[t(755)]}});return(new index_js_2[t(565)])[t(435)]((0,cuid_1[t(658)])())[t(713)+"revokeinfo"]({clientmsgid:(0,cuid_1[t(658)])(),newclientmsgid:(0,cuid_1[t(658)])(),createtime:(new Date)[t(706)]()})}async[_0x502c55(368)+_0x502c55(693)](e,t,a){var s=_0x502c55;await index_js_1[s(635)].post({url:s(418)+"endEmojiMessage?key="+this.token,data:{EmojiList:[{EmojiMd5:t,EmojiSize:a,ToUserName:e}]}});return(new index_js_2[s(565)])[s(435)]((0,cuid_1.default)())[s(713)+s(322)]({clientmsgid:(0,cuid_1[s(658)])(),newclientmsgid:(0,cuid_1[s(658)])(),createtime:(new Date)[s(706)]()})}async[_0x502c55(368)+_0x502c55(312)](e,t,a){var s=_0x502c55,n={QGUZF:s(416)+s(683)+s(559)+"b249920203"+s(360)+"7366327002"+s(347)+s(692)+"3239643232"+s(297)+s(767)+s(333)+s(752)+s(554)+s(596)+"0518080302"+s(470)+s(298),tXfox:"661e8de943"+s(628)+s(603)+"4b",iAxPO:s(338),KGXWU:s(505),WPUjR:"msg_825269"+s(329)+s(699),MAEEf:s(292)},a={appmsg:{$:{appid:"",sdkver:"0"},title:a.title,des:a[s(733)+"n"],action:s(496),type:"5",showtype:"0",content:"",url:a[s(538)],dataurl:"",lowurl:"",lowdataurl:"",recorditem:"",thumburl:a.thumbURL,messageaction:"",laninfo:"",extinfo:"",sourceusername:"",sourcedisplayname:"",commenturl:"",appattach:{totallen:"0",attachid:"",emoticonmd5:"",fileext:"",aeskey:"",cdnthumburl:n[s(532)],cdnthumbaeskey:s(738)+s(476)+s(589)+"45",cdnthumbmd5:n[s(721)],cdnthumblength:n[s(546)],cdnthumbwidth:n.KGXWU,cdnthumbheight:n[s(374)]},webviewshared:{publisherId:n[s(622)],publisherReqId:n[s(529)]},weappinfo:{pagepath:"",username:"",appid:"",appservicetype:"0"},websearch:""}},n=await(0,xml_to_json_js_1.jsonToXml)(a),a=await(0,xml_to_json_js_1.jsonToXml)({msg:a});await index_js_1[s(635)][s(640)]({url:s(418)+s(524)+s(739)+this.token,data:{AppList:[{ContentType:0,ContentXML:n,ToUserName:t}]}});return(new index_js_2[s(697)+s(744)+"se"])[s(435)]((0,cuid_1.default)())[s(713)+s(322)]({clientmsgid:(0,cuid_1[s(658)])(),newclientmsgid:(0,cuid_1[s(658)])(),createtime:(new Date)[s(706)]()})[s(719)+s(576)](a)}async["sendMessageMiniProgram"](e,t){var a=_0x502c55,s={Natxj:a(496),mJgCu:a(463)+"8177193250"+a(768)+"2d",TBQJG:a(685),cfLUy:a(601)+a(715)+a(648)+"73",nnSte:a(467)+a(373)+a(384)+"29",zjGjQ:a(749),fBDOk:a(505)},{appid:t,description:n,iconUrl:i,shareId:r,thumbKey:c,thumbUrl:o,username:_,title:d,pagePath:m}=t,d={appmsg:{appid:t,title:d,action:s[a(444)],type:"33",showtype:"0",url:a(688)+".weixin.qq.com/mp/wa"+a(520)+"pid="+t+"&amp;type="+a(296)+a(330)+a(650)+a(315)+"t",md5:s[a(477)],sourcedisplayname:n,appattach:{totallen:"0",fileext:s[a(481)],filekey:s.cfLUy,cdnthumburl:o,aeskey:s[a(494)],cdnthumbaeskey:c,cdnthumbmd5:s.mJgCu,encryver:"1",cdnthumblength:s[a(572)],cdnthumbheight:s.fBDOk,cdnthumbwidth:s[a(569)]},webviewshared:{publisherReqId:"0"},weappinfo:{pagepath:m,username:_,appid:t,type:"2",weappiconurl:i,appservicetype:"0",shareId:r}}},n=await(0,xml_to_json_js_1[a(490)])(d),o=await(0,xml_to_json_js_1[a(490)])({msg:d});await index_js_1[a(635)][a(640)]({url:a(418)+a(524)+a(739)+this[a(579)],data:{AppList:[{ContentType:0,ContentXML:n,ToUserName:e}]}});return(new index_js_2[a(697)+a(744)+"se"])[a(435)]((0,cuid_1[a(658)])())[a(713)+a(322)]({clientmsgid:(0,cuid_1[a(658)])(),newclientmsgid:(0,cuid_1[a(658)])(),createtime:(new Date)[a(706)]()})[a(719)+a(576)](o)}async[_0x502c55(453)+_0x502c55(515)](e,t){var a=_0x502c55,s=await(0,xml_to_json_js_1[a(751)])(t),s=await(0,xml_to_json_js_1[a(490)])({appmsg:s[a(485)].appmsg});await index_js_1[a(635)][a(640)]({url:a(418)+a(524)+a(739)+this[a(579)],data:{AppList:[{ContentType:0,ContentXML:s,ToUserName:e}]}});return(new index_js_2[a(697)+a(744)+"se"])[a(435)]((0,cuid_1[a(658)])())[a(713)+a(322)]({clientmsgid:(0,cuid_1.default)(),newclientmsgid:(0,cuid_1[a(658)])(),createtime:(new Date)[a(706)]()})[a(719)+a(576)](t)}async[_0x502c55(453)+_0x502c55(344)+"n"](e,t){var a=_0x502c55,s={WcqEc:a(689)+a(676),TCmaq:a(517),jUyvZ:a(496),hTHPO:a(573),mvqOq:"@cdn_30570"+a(324)+a(442)+a(371)+a(708)+"b02041424e"+a(370)+a(670)+a(702)+a(341)+a(712)+"339652d626"+a(662)+a(566)+a(620)+a(623)+a(756)+"405004c505"+a(422)+a(434)+a(557)+a(320),TinXj:a(484)+a(694),gCgTw:"v1_7wKTlnL"+a(516)+a(492)+a(409)+a(681)+"xVMjJr8zu/"+a(665)+"P+4382v9Q7GPuzYCdPvw"+a(728)+a(597)+"x5b2kETRF9"+a(440)+a(655)+"jyPxmdi+Gj"+a(636)+a(445)+a(626)+a(687)+a(561)+"ISvqpWoFoE"+a(500)+a(698),XGLtL:a(456)+a(701)+"d68d867756bb",rmJUP:"wxid_kxbss8yjkqx122"},s=await(0,xml_to_json_js_1[a(490)])({msg:{appmsg:{sdkver:"0",title:s.WcqEc,des:s[a(644)],type:"6",action:s[a(355)],appattach:{totallen:a(772),fileext:s[a(605)],attachid:s[a(388)],cdnattachurl:a(416)+a(683)+a(559)+a(334)+"2f591b0204"+a(455)+a(323)+a(618)+a(727)+a(385)+a(328)+a(611)+a(311)+a(327)+a(709)+a(446)+a(470)+a(645),aeskey:a(669)+a(407)+a(740)+"3e",encryver:"0",filekey:a(343)+a(392)+a(590)+"31948",overwrite_newmsgid:s[a(497)],fileuploadtoken:s.gCgTw},md5:s[a(671)],webviewshared:{},mpsharetrace:{hasfinderelement:"0"},secretmsg:{isscrectmsg:"0"}},fromusername:s[a(365)],scene:"1",appinfo:{version:"1"}}});await index_js_1.SyyRequest[a(640)]({url:"/message/S"+a(376)+a(482)+this[a(579)],data:{Content:s,ToWxid:e,Wxid:this.wxid}});return(new index_js_2[a(697)+a(744)+"se"])[a(435)]((0,cuid_1.default)())["setMessage"+a(322)]({clientmsgid:(0,cuid_1[a(658)])(),newclientmsgid:(0,cuid_1[a(658)])(),createtime:(new Date).getTime()})[a(719)+a(576)](t)}async[_0x502c55(704)+_0x502c55(461)](e,t,a){var s=_0x502c55;await index_js_1[s(635)][s(640)]({url:"/message/S"+s(539)+"ey="+this[s(579)],data:{ToUserName:e,VoiceData:t,VoiceFormat:0,"VoiceSecond,":1}});return(new index_js_2[s(565)])[s(435)]((0,cuid_1[s(658)])())[s(713)+s(322)]({clientmsgid:(0,cuid_1.default)(),newclientmsgid:(0,cuid_1[s(658)])(),createtime:(new Date)[s(706)]()})}async[_0x502c55(350)+_0x502c55(306)+"s"](){var e=_0x502c55,t=[];for(const n of(await index_js_1[e(635)].post({url:"/",data:{type:10114}})).data.data.chatrooms){var a=[];for(const i in n[e(452)+e(449)])a[e(498)]((new index_js_2[e(615)+e(397)])[e(750)+"e"](n[e(381)+"embers"][i][e(319)]).setAvatar(n[e(381)+e(509)][i][e(602)+e(340)]).setNickname(n["chatroom_m"+e(509)][i][e(625)]).setInviterusername(n["chatroom_m"+e(509)][i][e(716)+e(634)])[e(486)+e(293)](n["chatroom_m"+e(509)][i]?.[e(314)+e(545)]));var s=(new index_js_2[e(383)])[e(750)+"e"](n[e(319)])[e(586)+"e"](n.nick_name)[e(703)](n[e(602)+e(340)]).setGender(0)[e(457)+"re"]("")[e(588)](n[e(717)])[e(528)+e(472)](n[e(381)+"ax_count"])[e(528)+"mmemberList"](a).setChatroomownerusername(n[e(353)+e(550)]);t[e(498)](s)}return t}async["getChatRoo"+_0x502c55(325)](e){var t=_0x502c55,e=await index_js_1[t(635)][t(640)]({url:t(578)+t(380)+t(674)+t(482)+this[t(579)],data:{ChatRoomName:e}}),a=[];if(e[t(504)]?.[t(413)+"a"][t(381)+t(607)])for(const s of e[t(504)][t(413)+"a"][t(381)+t(607)])a.push((new index_js_2[t(615)+"mber"])[t(750)+"e"](s.user_name)[t(703)](s["small_head"+t(340)])[t(586)+"e"](s[t(625)])["setDisplay"+t(293)](s?.display_name||""));return a}async[_0x502c55(726)](e,t){var a=_0x502c55,s=/@chatroom$/[a(466)](e)||/@openim$/.test(e);let n;try{return n=s?await this[a(523)+a(346)](e):{HXkbj:function(e,t){return e==t}}[a(638)](e,this[a(294)].selfContact[a(379)+"e"]())?this[a(294)].selfContact:await this[a(553)+"tact"](e)}catch(e){throw e}}async[_0x502c55(432)+_0x502c55(420)](s){const n={iDDHq:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{e(await index_js_1[a(635)][a(640)]({url:"/user/UpdateNickName"+a(482)+this.token,data:{Scene:0,Val:s}}))}catch(e){n[a(382)](t,e)}})}async[_0x502c55(432)+_0x502c55(592)](s){const n={ixUju:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{e(await index_js_1[a(635)].post({url:a(450)+a(489)+a(649)+this[a(579)],data:{Scene:0,Val:s}}))}catch(e){n[a(419)](t,e)}})}async[_0x502c55(726)+_0x502c55(531)](e,t){const n={AOsda:function(e,t){return e(t)},jghQe:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{var s=await index_js_1[a(635)][a(640)]({url:a(473)+a(487)+"y="+this[a(579)],data:{Recover:!0,Style:8}});n[a(423)](e,s)}catch(e){n.jghQe(t,e)}})}async[_0x502c55(567)+_0x502c55(433)](e,t){var a=_0x502c55;await index_js_1[a(635)][a(640)]({url:a(488)+a(414)+a(649)+this[a(579)],data:{RemarkName:t,UserName:e}})}async["GetFriendR"+_0x502c55(537)](e){var t=_0x502c55;return await index_js_1[t(635)].post({url:t(372)+t(746)+t(313)+this.token,data:{UserName:e}})}async[_0x502c55(541)](e,t,a){var s=_0x502c55;await index_js_1[s(635)].post({url:"/friend/Ve"+s(585)+s(649)+this[s(579)],data:{Scene:3,V3:e,V4:t,VerifyContent:a}})}async[_0x502c55(391)+_0x502c55(378)](e){var t=_0x502c55;await index_js_1[t(635)][t(640)]({url:t(659)+t(317)+t(649)+this.token,data:{DelUserName:e}})}async[_0x502c55(553)+_0x502c55(300)](e){var t=_0x502c55,e=(await index_js_1[t(635)][t(640)]({url:t(372)+"tContactDetailsList?key="+this[t(579)],data:{RoomWxIDList:[""],UserNames:[e]}}))[t(504)].contactList[0];return(new index_js_2[t(383)])[t(750)+"e"](e[t(619)].str)[t(586)+"e"](e[t(581)].str)[t(703)](e[t(454)+"mgUrl"]).setGender(e[t(469)])[t(457)+"re"](e[t(612)])[t(646)+t(316)](e["antispam_t"+t(367)])}async[_0x502c55(438)+"ct"](){const i={nwtsi:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{var s=(await index_js_1[a(635)][a(661)]({url:"/user/GetProfile?key="+this[a(579)],data:{}}))[a(504)],n=(new index_js_2[a(383)])[a(750)+"e"](s[a(501)].userName[a(551)]).setNickname(s[a(501)][a(581)][a(551)])[a(703)](s[a(462)+"t"][a(454)+a(530)])[a(637)](s[a(501)][a(469)])[a(457)+"re"](s[a(501)].signature)[a(646)+"mticket"](s[a(345)+"cket"]||"");i.nwtsi(e,n)}catch(e){t(e)}})}async["getChatRoomContact"](i){const r=_0x502c55,c={RVRoe:r(415),Imtia:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a,s=r,n=await index_js_1.SyyRequest.post({url:s(667)+s(307)+s(429)+this[s(579)],data:{ChatRoomWxIdList:[i]}});200==n[s(357)]&&n[s(504)][s(427)+"t"]?(n=n[s(504)][s(427)+"t"][0],a=await this[s(523)+s(325)](i),e((new index_js_2[s(383)])[s(750)+"e"](n[s(619)]?.str).setNickname(n.nickName?.[s(551)]||c[s(400)])[s(703)](n[s(454)+"mgUrl"])[s(637)](n[s(469)])[s(457)+"re"]("")[s(588)]("")[s(528)+s(472)](500)[s(528)+s(562)+"t"](a)[s(528)+s(556)+s(293)](n[s(363)+s(614)]).setEncryptusername(n[s(700)+s(303)]))):c.Imtia(t,s(742))})}async["acceptChatRoomInvitation"](e,t){var a=_0x502c55;return index_js_1[a(635)][a(640)]({url:a(295)+"nIntoUrlGr"+a(571)+this[a(579)],data:{Url:t}})}async[_0x502c55(753)+"om"](e){var t=_0x502c55;return index_js_1.SyyRequest[t(640)]({url:t(408)+t(711)+t(478)+this[t(579)],data:{ChatRoomName:e}})}async["getMessage"+_0x502c55(583)](i,e,r){const c={bfCYx:function(e,t){return e(t)}};return new Promise(async(t,e)=>{var a=_0x1028;try{var s=(await(0,xml_to_json_js_1[a(751)])(i))[a(485)][a(673)].$,n=await index_js_1[a(635)][a(640)]({url:a(418)+a(563)+"load?key="+this.token,data:{AesKey:s[a(684)],FileType:0,FileURL:s.cdnmidimgurl}});c.bfCYx(t,{imageType:r,imageData:n[a(504)].Image})}catch(e){c[a(335)](t,e)}})}async[_0x502c55(672)+"Voice"](e,t,a){var s=_0x502c55,t=(await(0,xml_to_json_js_1.xmlToJson)(t))[s(485)][s(483)].$;return(await index_js_1[s(635)][s(640)]({url:s(761)+s(302)+s(482)+this.token,data:{Bufid:t.clientmsgid,Length:0,NewMsgId:e,ToUserName:a}}))[s(504)].data[s(474)]}async[_0x502c55(672)+_0x502c55(680)](e,t,a){var s=_0x502c55,t=(await(0,xml_to_json_js_1.xmlToJson)(t))[s(485)][s(511)].$;return(await index_js_1[s(635)].post({url:s(761)+"etMsgVideo"+s(482)+this[s(579)],data:{CompressType:0,FromUserName:"",MsgId:e,Section:{DataLen:Number(t.length),StartPos:0},ToUserName:a,TotalLen:0}}))[s(504)].data[s(474)]}async[_0x502c55(672)+_0x502c55(337)](e,t){var a=_0x502c55,e=await(0,xml_to_json_js_1[a(751)])(e),s=e[a(485)][a(395)][a(734)];return(await index_js_1.SyyRequest[a(640)]({url:a(568)+a(653)+a(478)+this.token,data:{AppID:e[a(485)].appmsg.$[a(339)],AttachId:s[a(609)],DataLen:Number(s[a(507)]),Section:{DataLen:0,StartPos:0},UserName:t,Wxid:this[a(755)]}})).Data[a(468)][a(474)]}async[_0x502c55(672)+_0x502c55(639)+_0x502c55(318)](e,t){var a=_0x502c55,e=(await(0,xml_to_json_js_1[a(751)])(e))[a(485)][a(395)][a(734)];return(await index_js_1[a(635)][a(640)]({url:a(765)+a(564)+a(739)+this.token,data:{FileAesKey:e[a(684)],FileNo:e[a(301)+"rl"],Wxid:this[a(755)]}})).Data[a(583)]}async["getMessage"+_0x502c55(718)+"b"](e,t){var a=_0x502c55,e=(await(0,xml_to_json_js_1[a(751)])(e))[a(485)][a(395)][a(734)];return(await index_js_1[a(635)][a(640)]({url:a(765)+a(564)+"age?key="+this[a(579)],data:{FileAesKey:e[a(684)],FileNo:e.cdnthumburl,Wxid:this[a(755)]}}))[a(504)][a(583)]}async["sendContac"+_0x502c55(657)+"ge"](e,t){var a=_0x502c55;await index_js_1[a(635)][a(640)]({url:a(418)+a(544)+"ssage?key="+this[a(579)],data:{CardAlias:t[a(426)](),CardFlag:0,CardNickName:t[a(425)+"e"](),CardWxId:t[a(379)+"e"](),ToUserName:e}});return(new index_js_2[a(565)])[a(435)]((0,cuid_1[a(658)])())[a(713)+a(322)]({clientmsgid:(0,cuid_1[a(658)])(),newclientmsgid:(0,cuid_1[a(658)])(),createtime:(new Date)[a(706)]()})}async[_0x502c55(386)](){var e=_0x502c55;return await index_js_1[e(635)].get({url:e(762)+e(410)+this[e(579)],data:{}}),(new index_js_2[e(565)]).setMsgid((0,cuid_1[e(658)])())[e(713)+e(322)]({clientmsgid:(0,cuid_1[e(658)])(),newclientmsgid:(0,cuid_1[e(658)])(),createtime:(new Date)[e(706)]()})}async[_0x502c55(754)+"age"](e,t,a){var s=_0x502c55;return index_js_1[s(635)][s(640)]({url:s(321)+s(332)+s(649)+this[s(579)],data:{ClientMsgId:t,CreateTime:0,NewMsgId:a,ToUserName:e}})}async[_0x502c55(465)+"Room"](e,t){var a=_0x502c55;return(await index_js_1.SyyRequest[a(640)]({url:"/group/Cre"+a(464)+a(660)+this[a(579)],data:{TopIc:t,UserList:e}}))[a(504)][a(403)+"me"][a(759)]}async[_0x502c55(308)+_0x502c55(393)+"s"](e,t){var a=_0x502c55;await index_js_1[a(635)][a(640)]({url:a(641)+a(402)+a(570)+a(649)+this[a(579)],data:{ChatRoomName:e,UserList:[t]}})}async[_0x502c55(725)+_0x502c55(306)](e,t){var a=_0x502c55;await index_js_1[a(635)][a(640)]({url:a(519)+a(533)+a(369)+a(459)+this[a(579)],data:{ChatRoomName:e,UserList:[t]}})}async[_0x502c55(523)+"mQrCode"](n){const i={uEIxX:function(e,t){return e(t)},jUYhq:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{var s=await index_js_1[a(635)][a(640)]({url:"/group/Get"+a(722)+a(668)+this[a(579)],data:{ChatRoomName:n}});i[a(613)](e,s)}catch(e){i[a(560)](t,e)}})}async[_0x502c55(547)+"mName"](e,t){var a=_0x502c55;await index_js_1.SyyRequest.post({url:a(682)+"ChatroomNa"+a(771)+this[a(579)],data:{ChatRoomName:e,Nickname:t}})}async["getChatRoo"+_0x502c55(436)+_0x502c55(576)](e){var t=_0x502c55;await index_js_1[t(635)].post({url:"/group/Set"+t(428)+"mInfoDetail?key="+this.token,data:{ChatRoomName:e}})}async[_0x502c55(547)+_0x502c55(436)+"ent"](e,t){var a=_0x502c55;await index_js_1[a(635)][a(640)]({url:"/group/SetChatRoomAn"+a(336)+a(482)+this[a(579)],data:{ChatRoomName:e,Content:t}})}async["acceptUser"](e,t,a,s){var n=_0x502c55;await index_js_1[n(635)][n(640)]({url:"/friend/Ve"+n(585)+n(649)+this[n(579)],data:{V3:a,V4:t,OpCode:3,Scene:s}})}async[_0x502c55(656)+"st"](){const c={XZIIi:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{var s=await index_js_1.SyyRequest[a(661)]({url:a(747)+a(710)+a(475)+"="+this[a(579)],data:{}}),n=[];if(s[a(504)][a(558)+"ist"])for(const r of s[a(504)][a(558)+"ist"]){var i=(new index_js_2[a(763)])[a(627)](r[a(331)])[a(401)](r[a(424)]);n[a(498)](i)}c[a(705)](e,n)}catch(e){}})}async["addLabel"](e){var t=_0x502c55;return await index_js_1[t(635)][t(640)]({url:t(616)+t(710)+t(604)+this[t(579)],data:{LabelName:e,wxid:this.wxid}})}async[_0x502c55(764)+"l"](n){const i={yQwah:function(e,t){return e(t)}};return new Promise(async(e,t)=>{var a=_0x1028;try{var s=await index_js_1[a(635)][a(640)]({url:a(729)+"ete?key="+this.token,data:{LabelID:String(n),Wxid:this[a(755)]}});i[a(361)](e,s)}catch(e){}})}async[_0x502c55(536)+"Label"](n,i){const r=_0x502c55,c={kVLao:r(759)};return new Promise(async(e,t)=>{var a=r,s=i[a(396)](e=>!isNaN(e));try{e(await index_js_1.SyyRequest[a(640)]({url:a(535)+"ifyLabel?key="+this[a(579)],data:{LabelId:s.join(",")||"",LabelNameList:[c[a(480)]],UserLabelList:[{LabelIDList:"",UserName:n}]}}))}catch(e){}})}}exports[_0x502c55(362)]=Api;